commit 43a7cad5ebef3945be262970ec2a298c72767410
Author: Abou El Ala Anas <abouelalaanas@example.com>
Date:   Fri Feb 13 17:31:07 2026 +0100

    feat: Add Supabase integration, Vercel config, and UI fixes

diff --git a/components/screens/MainMenu.tsx b/components/screens/MainMenu.tsx
index 43d416c..6ac0e0d 100644
--- a/components/screens/MainMenu.tsx
+++ b/components/screens/MainMenu.tsx
@@ -1,511 +1,1278 @@
 
-
 import React, { useState, useEffect, useRef } from 'react';
-import { Play, Search, Activity, ChevronRight, Brain, Gamepad2, GraduationCap, Mic, Layers, Waves, Ghost, Puzzle, Zap, ArrowLeft, BookOpen, Target, LayoutDashboard } from 'lucide-react';
+import { Play, Search, Activity, ChevronRight, Brain, Gamepad2, GraduationCap, Mic, Layers, Waves, Ghost, Puzzle, Zap, ArrowLeft, BookOpen, Target, LayoutDashboard, Settings, Key, User, Mail, Lock, Shield, Sparkles, Keyboard, Laptop as StartNew, Tablet, Smartphone } from 'lucide-react';
 import { ArcadeButton } from '../ui/ArcadeButton';
 import { motion, AnimatePresence } from 'framer-motion';
 import { GameMode } from '../../types';
 
 interface MenuState {
-  step: 'SELECT_MODE';
-  surah: string;
-  range: { start: number, end?: number };
+    step: 'SELECT_MODE';
+    surah: string;
+    range: { start: number, end?: number };
 }
 
 interface Props {
-  onStartGame: (surah: string, startVerse?: number, endVerse?: number, mode?: GameMode, config?: any) => void;
-  onStartDiagnostic: (surah: string) => void;
-  onOpenDashboard: () => void;
-  initialState?: MenuState;
+    onStartGame: (surah: string, startVerse?: number, endVerse?: number, mode?: GameMode, config?: any) => void;
+    onStartDiagnostic: (surah: string, startVerse?: number, endVerse?: number) => void;
+    onOpenDashboard: () => void;
+    initialState?: MenuState;
 }
 
+
+
 const QURAN_SURAHS = [
-  "Ïº┘ä┘üÏºÏ¬Ï¡Ï®", "Ïº┘äÏ¿┘éÏ▒Ï®", "Ïó┘ä Ï╣┘àÏ▒Ïº┘å", "Ïº┘ä┘åÏ│ÏºÏí", "Ïº┘ä┘àÏºÏªÏ»Ï®", "Ïº┘äÏú┘åÏ╣Ïº┘à", "Ïº┘äÏúÏ╣Ï▒Ïº┘ü", "Ïº┘äÏú┘å┘üÏº┘ä", "Ïº┘äÏ¬┘êÏ¿Ï®", "┘è┘ê┘åÏ│",
-  "┘ç┘êÏ»", "┘è┘êÏ│┘ü", "Ïº┘äÏ▒Ï╣Ï»", "ÏÑÏ¿Ï▒Ïº┘ç┘è┘à", "Ïº┘äÏ¡Ï¼Ï▒", "Ïº┘ä┘åÏ¡┘ä", "Ïº┘äÏÑÏ│Ï▒ÏºÏí", "Ïº┘ä┘â┘ç┘ü", "┘àÏ▒┘è┘à", "ÏÀ┘ç",
-  "Ïº┘äÏú┘åÏ¿┘èÏºÏí", "Ïº┘äÏ¡Ï¼", "Ïº┘ä┘àÏñ┘à┘å┘ê┘å", "Ïº┘ä┘å┘êÏ▒", "Ïº┘ä┘üÏ▒┘éÏº┘å", "Ïº┘äÏ┤Ï╣Ï▒ÏºÏí", "Ïº┘ä┘å┘à┘ä", "Ïº┘ä┘éÏÁÏÁ", "Ïº┘äÏ╣┘å┘âÏ¿┘êÏ¬", "Ïº┘äÏ▒┘ê┘à",
-  "┘ä┘é┘àÏº┘å", "Ïº┘äÏ│Ï¼Ï»Ï®", "Ïº┘äÏúÏ¡Ï▓ÏºÏ¿", "Ï│Ï¿Ïú", "┘üÏºÏÀÏ▒", "┘èÏ│", "Ïº┘äÏÁÏº┘üÏºÏ¬", "ÏÁ", "Ïº┘äÏ▓┘àÏ▒", "Ï║Ïº┘üÏ▒",
-  "┘üÏÁ┘äÏ¬", "Ïº┘äÏ┤┘êÏ▒┘ë", "Ïº┘äÏ▓Ï«Ï▒┘ü", "Ïº┘äÏ»Ï«Ïº┘å", "Ïº┘äÏ¼ÏºÏ½┘èÏ®", "Ïº┘äÏúÏ¡┘éÏº┘ü", "┘àÏ¡┘àÏ»", "Ïº┘ä┘üÏ¬Ï¡", "Ïº┘äÏ¡Ï¼Ï▒ÏºÏ¬", "┘é",
-  "Ïº┘äÏ░ÏºÏ▒┘èÏºÏ¬", "Ïº┘äÏÀ┘êÏ▒", "Ïº┘ä┘åÏ¼┘à", "Ïº┘ä┘é┘àÏ▒", "Ïº┘äÏ▒Ï¡┘à┘å", "Ïº┘ä┘êÏº┘éÏ╣Ï®", "Ïº┘äÏ¡Ï»┘èÏ»", "Ïº┘ä┘àÏ¼ÏºÏ»┘äÏ®", "Ïº┘äÏ¡Ï┤Ï▒", "Ïº┘ä┘à┘àÏ¬Ï¡┘åÏ®",
-  "Ïº┘äÏÁ┘ü", "Ïº┘äÏ¼┘àÏ╣Ï®", "Ïº┘ä┘à┘åÏº┘ü┘é┘ê┘å", "Ïº┘äÏ¬Ï║ÏºÏ¿┘å", "Ïº┘äÏÀ┘äÏº┘é", "Ïº┘äÏ¬Ï¡Ï▒┘è┘à", "Ïº┘ä┘à┘ä┘â", "Ïº┘ä┘é┘ä┘à", "Ïº┘äÏ¡Ïº┘éÏ®", "Ïº┘ä┘àÏ╣ÏºÏ▒Ï¼",
-  "┘å┘êÏ¡", "Ïº┘äÏ¼┘å", "Ïº┘ä┘àÏ▓┘à┘ä", "Ïº┘ä┘àÏ»Ï½Ï▒", "Ïº┘ä┘é┘èÏº┘àÏ®", "Ïº┘äÏÑ┘åÏ│Ïº┘å", "Ïº┘ä┘àÏ▒Ï│┘äÏºÏ¬", "Ïº┘ä┘åÏ¿Ïú", "Ïº┘ä┘åÏºÏ▓Ï╣ÏºÏ¬", "Ï╣Ï¿Ï│",
-  "Ïº┘äÏ¬┘â┘ê┘èÏ▒", "Ïº┘äÏº┘å┘üÏÀÏºÏ▒", "Ïº┘ä┘àÏÀ┘ü┘ü┘è┘å", "Ïº┘äÏº┘åÏ┤┘éÏº┘é", "Ïº┘äÏ¿Ï▒┘êÏ¼", "Ïº┘äÏÀÏºÏ▒┘é", "Ïº┘äÏúÏ╣┘ä┘ë", "Ïº┘äÏ║ÏºÏ┤┘èÏ®", "Ïº┘ä┘üÏ¼Ï▒", "Ïº┘äÏ¿┘äÏ»",
-  "Ïº┘äÏ┤┘àÏ│", "Ïº┘ä┘ä┘è┘ä", "Ïº┘äÏÂÏ¡┘ë", "Ïº┘äÏ┤Ï▒Ï¡", "Ïº┘äÏ¬┘è┘å", "Ïº┘äÏ╣┘ä┘é", "Ïº┘ä┘éÏ»Ï▒", "Ïº┘äÏ¿┘è┘åÏ®", "Ïº┘äÏ▓┘äÏ▓┘äÏ®", "Ïº┘äÏ╣ÏºÏ»┘èÏºÏ¬",
-  "Ïº┘ä┘éÏºÏ▒Ï╣Ï®", "Ïº┘äÏ¬┘âÏºÏ½Ï▒", "Ïº┘äÏ╣ÏÁÏ▒", "Ïº┘ä┘ç┘àÏ▓Ï®", "Ïº┘ä┘ü┘è┘ä", "┘éÏ▒┘èÏ┤", "Ïº┘ä┘àÏºÏ╣┘ê┘å", "Ïº┘ä┘â┘êÏ½Ï▒", "Ïº┘ä┘âÏº┘üÏ▒┘ê┘å", "Ïº┘ä┘åÏÁÏ▒",
-  "Ïº┘ä┘àÏ│Ï»", "Ïº┘äÏÑÏ«┘äÏºÏÁ", "Ïº┘ä┘ü┘ä┘é", "Ïº┘ä┘åÏºÏ│"
+    "Ïº┘ä┘üÏºÏ¬Ï¡Ï®", "Ïº┘äÏ¿┘éÏ▒Ï®", "Ïó┘ä Ï╣┘àÏ▒Ïº┘å", "Ïº┘ä┘åÏ│ÏºÏí", "Ïº┘ä┘àÏºÏªÏ»Ï®", "Ïº┘äÏú┘åÏ╣Ïº┘à", "Ïº┘äÏúÏ╣Ï▒Ïº┘ü", "Ïº┘äÏú┘å┘üÏº┘ä", "Ïº┘äÏ¬┘êÏ¿Ï®", "┘è┘ê┘åÏ│",
+    "┘ç┘êÏ»", "┘è┘êÏ│┘ü", "Ïº┘äÏ▒Ï╣Ï»", "ÏÑÏ¿Ï▒Ïº┘ç┘è┘à", "Ïº┘äÏ¡Ï¼Ï▒", "Ïº┘ä┘åÏ¡┘ä", "Ïº┘äÏÑÏ│Ï▒ÏºÏí", "Ïº┘ä┘â┘ç┘ü", "┘àÏ▒┘è┘à", "ÏÀ┘ç",
+    "Ïº┘äÏú┘åÏ¿┘èÏºÏí", "Ïº┘äÏ¡Ï¼", "Ïº┘ä┘àÏñ┘à┘å┘ê┘å", "Ïº┘ä┘å┘êÏ▒", "Ïº┘ä┘üÏ▒┘éÏº┘å", "Ïº┘äÏ┤Ï╣Ï▒ÏºÏí", "Ïº┘ä┘å┘à┘ä", "Ïº┘ä┘éÏÁÏÁ", "Ïº┘äÏ╣┘å┘âÏ¿┘êÏ¬", "Ïº┘äÏ▒┘ê┘à",
+    "┘ä┘é┘àÏº┘å", "Ïº┘äÏ│Ï¼Ï»Ï®", "Ïº┘äÏúÏ¡Ï▓ÏºÏ¿", "Ï│Ï¿Ïú", "┘üÏºÏÀÏ▒", "┘èÏ│", "Ïº┘äÏÁÏº┘üÏºÏ¬", "ÏÁ", "Ïº┘äÏ▓┘àÏ▒", "Ï║Ïº┘üÏ▒",
+    "┘üÏÁ┘äÏ¬", "Ïº┘äÏ┤┘êÏ▒┘ë", "Ïº┘äÏ▓Ï«Ï▒┘ü", "Ïº┘äÏ»Ï«Ïº┘å", "Ïº┘äÏ¼ÏºÏ½┘èÏ®", "Ïº┘äÏúÏ¡┘éÏº┘ü", "┘àÏ¡┘àÏ»", "Ïº┘ä┘üÏ¬Ï¡", "Ïº┘äÏ¡Ï¼Ï▒ÏºÏ¬", "┘é",
+    "Ïº┘äÏ░ÏºÏ▒┘èÏºÏ¬", "Ïº┘äÏÀ┘êÏ▒", "Ïº┘ä┘åÏ¼┘à", "Ïº┘ä┘é┘àÏ▒", "Ïº┘äÏ▒Ï¡┘à┘å", "Ïº┘ä┘êÏº┘éÏ╣Ï®", "Ïº┘äÏ¡Ï»┘èÏ»", "Ïº┘ä┘àÏ¼ÏºÏ»┘äÏ®", "Ïº┘äÏ¡Ï┤Ï▒", "Ïº┘ä┘à┘àÏ¬Ï¡┘åÏ®",
+    "Ïº┘äÏÁ┘ü", "Ïº┘äÏ¼┘àÏ╣Ï®", "Ïº┘ä┘à┘åÏº┘ü┘é┘ê┘å", "Ïº┘äÏ¬Ï║ÏºÏ¿┘å", "Ïº┘äÏÀ┘äÏº┘é", "Ïº┘äÏ¬Ï¡Ï▒┘è┘à", "Ïº┘ä┘à┘ä┘â", "Ïº┘ä┘é┘ä┘à", "Ïº┘äÏ«Ïº┘éÏ®", "Ïº┘ä┘àÏ╣ÏºÏ▒Ï¼",
+    "┘å┘êÏ¡", "Ïº┘äÏ¼┘å", "Ïº┘ä┘àÏ▓┘à┘ä", "Ïº┘ä┘àÏ»Ï½Ï▒", "Ïº┘ä┘é┘èÏº┘àÏ®", "Ïº┘äÏÑ┘åÏ│Ïº┘å", "Ïº┘ä┘àÏ▒Ï│┘äÏºÏ¬", "Ïº┘ä┘åÏ¿Ïú", "Ïº┘ä┘åÏºÏ▓Ï╣ÏºÏ¬", "Ï╣Ï¿Ï│",
+    "Ïº┘äÏ¬┘â┘ê┘èÏ▒", "Ïº┘äÏº┘å┘üÏÀÏºÏ▒", "Ïº┘ä┘àÏÀ┘ü┘ü┘è┘å", "Ïº┘äÏº┘åÏ┤┘éÏº┘é", "Ïº┘äÏ¿Ï▒┘êÏ¼", "Ïº┘äÏÀÏºÏ▒┘é", "Ïº┘äÏúÏ╣┘ä┘ë", "Ïº┘äÏ║ÏºÏ┤┘èÏ®", "Ïº┘ä┘üÏ¼Ï▒", "Ïº┘äÏ¿┘äÏ»",
+    "Ïº┘äÏ┤┘àÏ│", "Ïº┘ä┘ä┘è┘ä", "Ïº┘äÏÂÏ¡┘ë", "Ïº┘äÏ┤Ï▒Ï¡", "Ïº┘äÏ¬┘è┘å", "Ïº┘äÏ╣┘ä┘é", "Ïº┘ä┘éÏ»Ï▒", "Ïº┘äÏ¿┘è┘åÏ®", "Ïº┘äÏ▓┘äÏ▓┘äÏ®", "Ïº┘äÏ╣ÏºÏ»┘èÏºÏ¬",
+    "Ïº┘ä┘éÏºÏ▒Ï╣Ï®", "Ïº┘äÏ¬┘âÏºÏ½Ï▒", "Ïº┘äÏ╣ÏÁÏ▒", "Ïº┘ä┘ç┘àÏ▓Ï®", "Ïº┘ä┘ü┘è┘ä", "┘éÏ▒┘èÏ┤", "Ïº┘ä┘àÏºÏ╣┘ê┘å", "Ïº┘ä┘â┘êÏ½Ï▒", "Ïº┘ä┘âÏº┘üÏ▒┘ê┘å", "Ïº┘ä┘åÏÁÏ▒",
+    "Ïº┘ä┘àÏ│Ï»", "Ïº┘äÏÑÏ«┘äÏºÏÁ", "Ïº┘ä┘ü┘ä┘é", "Ïº┘ä┘åÏºÏ│"
 ];
 
 const levenshtein = (a: string, b: string): number => {
-  const matrix = [];
-  for (let i = 0; i <= b.length; i++) matrix[i] = [i];
-  for (let j = 0; j <= a.length; j++) matrix[0][j] = j;
-  for (let i = 1; i <= b.length; i++) {
-    for (let j = 1; j <= a.length; j++) {
-      if (b.charAt(i - 1) === a.charAt(j - 1)) {
-        matrix[i][j] = matrix[i - 1][j - 1];
-      } else {
-        matrix[i][j] = Math.min(matrix[i - 1][j - 1] + 1, matrix[i][j - 1] + 1, matrix[i - 1][j] + 1);
-      }
+    const matrix = [];
+    for (let i = 0; i <= b.length; i++) matrix[i] = [i];
+    for (let j = 0; j <= a.length; j++) matrix[0][j] = j;
+    for (let i = 1; i <= b.length; i++) {
+        for (let j = 1; j <= a.length; j++) {
+            if (b.charAt(i - 1) === a.charAt(j - 1)) {
+                matrix[i][j] = matrix[i - 1][j - 1];
+            } else {
+                matrix[i][j] = Math.min(matrix[i - 1][j - 1] + 1, matrix[i][j - 1] + 1, matrix[i - 1][j] + 1);
+            }
+        }
     }
-  }
-  return matrix[b.length][a.length];
+    return matrix[b.length][a.length];
 };
 
-type MenuStep = 'HOME' | 'SELECT_SURAH' | 'SELECT_MODE';
+type MenuStep = 'HOME' | 'AUTH' | 'USER_HOME' | 'SELECT_SURAH' | 'SELECT_MODE';
 type Intent = 'LEARN' | 'RECITATE' | null;
 
+import { authService } from '../../services/authService';
+import { syncFromCloud } from '../../services/storageService';
+import { UserProfile } from '../../types';
+
 export const MainMenu: React.FC<Props> = ({ onStartGame, onStartDiagnostic, onOpenDashboard, initialState }) => {
-  const [step, setStep] = useState<MenuStep>('HOME');
-  const [intent, setIntent] = useState<Intent>(null);
-  
-  // Selection State
-  const [searchTerm, setSearchTerm] = useState("");
-  const [showSuggestions, setShowSuggestions] = useState(false);
-  const [selectedSurah, setSelectedSurah] = useState("");
-  const [verseMode, setVerseMode] = useState<'FULL' | 'RANGE'>('FULL');
-  const [rangeStart, setRangeStart] = useState<number | string>(1);
-  const [rangeEnd, setRangeEnd] = useState<number | string>(10);
-  
-  // If we came from a diagnostic, we are in "Training Mode"
-  const [isTrainingMode, setIsTrainingMode] = useState(false);
-
-  const suggestionsRef = useRef<HTMLDivElement>(null);
-
-  useEffect(() => {
-    // Handle deep link state from props
-    if (initialState) {
-        setStep(initialState.step);
-        setSelectedSurah(initialState.surah);
-        setRangeStart(initialState.range.start);
-        if (initialState.range.end) {
-            setRangeEnd(initialState.range.end);
-            setVerseMode('RANGE');
-        } else {
-            setVerseMode('FULL');
+    const [step, setStep] = useState<MenuStep>('HOME');
+    const [user, setUser] = useState<UserProfile | null>(null);
+    const [authMode, setAuthMode] = useState<'LOGIN' | 'REGISTER'>('LOGIN');
+    const [intent, setIntent] = useState<Intent>(null);
+    const [email, setEmail] = useState("");
+    const [password, setPassword] = useState("");
+    const [name, setName] = useState("");
+    const [loading, setLoading] = useState(false);
+
+    useEffect(() => {
+        const checkAuth = async () => {
+            const u = await authService.getCurrentUser();
+            if (u) {
+                setUser(u);
+                await syncFromCloud();
+            }
+        };
+        checkAuth();
+
+        const { data } = authService.onAuthStateChange((u) => {
+            setUser(u);
+        });
+
+        return () => {
+            data?.subscription.unsubscribe();
+        };
+    }, []);
+
+
+    // Selection State
+    const [searchTerm, setSearchTerm] = useState("");
+    const [showSuggestions, setShowSuggestions] = useState(false);
+    const [selectedSurah, setSelectedSurah] = useState("");
+    const [verseMode, setVerseMode] = useState<'FULL' | 'RANGE'>('FULL');
+    const [rangeStart, setRangeStart] = useState<number | string>(1);
+    const [rangeEnd, setRangeEnd] = useState<number | string>(10);
+
+    // If we came from a diagnostic, we are in "Training Mode"
+    const [isTrainingMode, setIsTrainingMode] = useState(false);
+
+    // Social Proof Simulation
+    const [activeLearners, setActiveLearners] = useState(23);
+    const [currentActivity, setCurrentActivity] = useState<string | null>(null);
+
+    const MOCK_ACTIVITIES = [
+        "ÏúÏ¡┘àÏ» ÏúÏ¬┘à Ï¡┘üÏ© Ï│┘êÏ▒Ï® Ïº┘ä┘üÏºÏ¬Ï¡Ï® Ïº┘ä┘è┘ê┘à! ­ƒîƒ",
+        "Ï│ÏºÏ▒Ï® ┘êÏÁ┘äÏ¬ ┘ä┘ä┘è┘ê┘à Ïº┘äÏ│ÏºÏ¿Ï╣ ┘à┘å Ïº┘äÏ¡┘üÏ© Ïº┘ä┘àÏ¬┘êÏºÏÁ┘ä ­ƒöÑ",
+        "Ï╣Ï¿Ï» Ïº┘ä┘ä┘ç ÏºÏ«Ï¬ÏºÏ▒ Ïº┘ä┘éÏ▒Ïó┘å Ï¿Ï»┘ä Ïº┘äÏú┘äÏ╣ÏºÏ¿ Ïº┘ä┘è┘ê┘à ­ƒÄ«",
+        "┘ä┘è┘ä┘ë ÏúÏ¬┘àÏ¬ ┘àÏ▒ÏºÏ¼Ï╣Ï® Ï¼Ï▓Ïí Ï╣┘à ┘âÏº┘à┘äÏº┘ï ­ƒôÜ",
+        "┘àÏ¡┘àÏ» ÏÁÏ¡Ï¡ 15 Ï«ÏÀÏú ┘ü┘è Ïº┘äÏ¬┘äÏº┘êÏ® ­ƒÄ»",
+        "┘üÏºÏÀ┘àÏ® Ï¡ÏÁ┘äÏ¬ Ï╣┘ä┘ë ┘êÏ│Ïº┘à Ïº┘äÏ«Ï¬┘àÏ® Ïº┘äÏú┘ê┘ä┘ë ­ƒææ",
+        "┘è┘êÏ│┘ü ┘è┘éÏÂ┘è 20 Ï»┘é┘è┘éÏ® ┘è┘ê┘à┘èÏº┘ï ┘ü┘è Ïº┘äÏ¡┘üÏ© ÔØñ´©Å",
+        "┘å┘êÏ▒Ï® Ï«Ï¬┘àÏ¬ Ï│┘êÏ▒Ï® Ïº┘ä┘â┘ç┘ü Ï¿ÏÑÏ¬┘éÏº┘å Ô£¿"
+    ];
+
+    useEffect(() => {
+        // Active Learners simulation
+        const interval = setInterval(() => {
+            setActiveLearners(prev => {
+                const change = Math.random() > 0.6 ? 1 : Math.random() > 0.5 ? -1 : 0;
+                let next = prev + change;
+                if (next < 18) next = 18;
+                if (next > 45) next = 45;
+                return next;
+            });
+        }, 4000);
+
+        // Activity Feed simulation
+        const activityInterval = setInterval(() => {
+            if (step === 'HOME') {
+                const randomActivity = MOCK_ACTIVITIES[Math.floor(Math.random() * MOCK_ACTIVITIES.length)];
+                setCurrentActivity(randomActivity);
+                setTimeout(() => setCurrentActivity(null), 5000);
+            }
+        }, 8000 + Math.random() * 5000);
+
+        return () => {
+            clearInterval(interval);
+            clearInterval(activityInterval);
+        };
+    }, [step]);
+
+    const suggestionsRef = useRef<HTMLDivElement>(null);
+
+    useEffect(() => {
+        // Handle deep link state from props
+        if (initialState) {
+            setStep(initialState.step);
+            setSelectedSurah(initialState.surah);
+            setRangeStart(initialState.range.start);
+            if (initialState.range.end) {
+                setRangeEnd(initialState.range.end);
+                setVerseMode('RANGE');
+            } else {
+                setVerseMode('FULL');
+            }
+            setIntent('LEARN');
+            setIsTrainingMode(true);
         }
-        setIntent('LEARN');
-        setIsTrainingMode(true);
-    }
-  }, [initialState]);
+    }, [initialState]);
+
+    useEffect(() => {
+        const handleClickOutside = (event: MouseEvent) => {
+            if (suggestionsRef.current && !suggestionsRef.current.contains(event.target as Node)) {
+                setShowSuggestions(false);
+            }
+        };
+        document.addEventListener("mousedown", handleClickOutside);
+        return () => document.removeEventListener("mousedown", handleClickOutside);
+    }, []);
 
-  useEffect(() => {
-    const handleClickOutside = (event: MouseEvent) => {
-      if (suggestionsRef.current && !suggestionsRef.current.contains(event.target as Node)) {
+    const getSuggestions = () => {
+        if (!searchTerm) return [];
+        const exactMatches = QURAN_SURAHS.filter(s => s.includes(searchTerm));
+        if (exactMatches.length > 0) return exactMatches;
+        return QURAN_SURAHS
+            .map(s => ({ name: s, dist: levenshtein(s, searchTerm) }))
+            .filter(item => item.dist <= 2)
+            .sort((a, b) => a.dist - b.dist)
+            .map(item => item.name)
+            .slice(0, 3);
+    };
+
+    const handleSelectSurah = (surah: string) => {
+        setSelectedSurah(surah);
+        setSearchTerm(surah);
         setShowSuggestions(false);
-      }
     };
-    document.addEventListener("mousedown", handleClickOutside);
-    return () => document.removeEventListener("mousedown", handleClickOutside);
-  }, []);
-
-  const getSuggestions = () => {
-    if (!searchTerm) return [];
-    const exactMatches = QURAN_SURAHS.filter(s => s.includes(searchTerm));
-    if (exactMatches.length > 0) return exactMatches;
-    return QURAN_SURAHS
-      .map(s => ({ name: s, dist: levenshtein(s, searchTerm) }))
-      .filter(item => item.dist <= 2)
-      .sort((a, b) => a.dist - b.dist)
-      .map(item => item.name)
-      .slice(0, 3);
-  };
-
-  const handleSelectSurah = (surah: string) => {
-    setSelectedSurah(surah);
-    setSearchTerm(surah);
-    setShowSuggestions(false);
-  };
-
-  const handleActionSelect = (selectedIntent: Intent) => {
-      setIntent(selectedIntent);
-      setStep('SELECT_SURAH');
-  };
-
-  const handleSurahConfirmed = () => {
-      if (!selectedSurah) return;
-
-      if (intent === 'RECITATE') {
-          // Direct Action: Start Diagnostic
-          onStartDiagnostic(selectedSurah);
-      } else {
-          // Go to Mode Selection for Learning
-          setStep('SELECT_MODE');
-      }
-  };
-
-  const handleGameStart = (mode: GameMode) => {
-      const start = parseInt(rangeStart.toString()) || 1;
-      const end = parseInt(rangeEnd.toString()) || 10;
-      const finalEnd = verseMode === 'RANGE' ? end : undefined;
-      
-      const config = mode === 'LEARN' ? { inputMode: 'AUDIO' } : {};
-      onStartGame(selectedSurah, start, finalEnd, mode, config);
-  };
-
-  const goBack = () => {
-      if (isTrainingMode) {
-          // If in training mode (from diagnostic), back goes home
-          setStep('HOME');
-          setIntent(null);
-          setSelectedSurah("");
-          setIsTrainingMode(false);
-          return;
-      }
-
-      if (step === 'SELECT_MODE') setStep('SELECT_SURAH');
-      else if (step === 'SELECT_SURAH') {
-          setStep('HOME');
-          setIntent(null);
-          setSelectedSurah("");
-          setSearchTerm("");
-      }
-  };
-
-  return (
-    <div className="flex flex-col items-center min-h-screen bg-slate-900 overflow-hidden relative font-sans">
-        {/* Animated Background */}
-        <div className="absolute inset-0 bg-[url('https://picsum.photos/1920/1080?blur=5')] bg-cover bg-center opacity-20 z-0"></div>
-        <div className="absolute inset-0 bg-gradient-to-b from-slate-900/90 via-slate-900/95 to-slate-900 z-0"></div>
-        
-        <div className="relative z-10 w-full max-w-4xl flex flex-col h-full p-4 md:p-6 overflow-y-auto">
-            
-            {/* Header */}
-            <motion.header 
-                initial={{ y: -50, opacity: 0 }}
-                animate={{ y: 0, opacity: 1 }}
-                className="text-center py-4 md:py-6 shrink-0 relative"
-            >
-                <div className="inline-block bg-slate-800/50 backdrop-blur rounded-full px-4 py-1 border border-slate-700 mb-2">
-                    <span className="text-arcade-cyan text-xs font-arcade tracking-widest">HIFZ QUEST</span>
-                </div>
-                <h1 className="text-4xl md:text-5xl font-arcade text-transparent bg-clip-text bg-gradient-to-b from-white to-slate-400 drop-shadow-sm animate-[pulse_3s_infinite]">
-                    Ï▒Ï¡┘äÏ® Ïº┘äÏ¡┘üÏ©
-                </h1>
-                
-                {/* Dashboard Button */}
-                {step === 'HOME' && (
-                    <div className="absolute top-4 right-0 md:right-4">
-                        <button 
-                            onClick={onOpenDashboard}
-                            className="bg-slate-800 hover:bg-slate-700 border border-slate-600 rounded-full p-3 transition-colors text-arcade-cyan shadow-lg hover:shadow-cyan-500/20 active:scale-95"
-                        >
-                            <LayoutDashboard size={24} />
-                        </button>
-                    </div>
-                )}
-            </motion.header>
-
-            <AnimatePresence mode='wait'>
-                
-                {/* --- STEP 1: HOME (CHOOSE ACTION) --- */}
-                {step === 'HOME' && (
-                    <motion.div 
-                        key="home"
-                        initial={{ opacity: 0, scale: 0.95 }}
-                        animate={{ opacity: 1, scale: 1 }}
-                        exit={{ opacity: 0, scale: 0.95 }}
-                        className="grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6 flex-1 items-center justify-center max-w-3xl mx-auto w-full py-4"
-                    >
-                        {/* ACTION: LEARN */}
-                        <button 
-                            onClick={() => handleActionSelect('LEARN')}
-                            className="min-h-[16rem] h-auto bg-gradient-to-br from-indigo-900/60 to-slate-900 border-2 border-indigo-500/30 hover:border-indigo-400 rounded-[2rem] p-6 flex flex-col items-center justify-center text-center gap-4 group transition-all hover:scale-105 hover:shadow-[0_0_30px_rgba(99,102,241,0.2)]"
-                        >
-                            <div className="w-20 h-20 md:w-24 md:h-24 bg-indigo-500/20 rounded-full flex items-center justify-center group-hover:bg-indigo-500/30 transition-colors border-2 border-indigo-500/20 group-hover:border-indigo-400">
-                                <BookOpen className="w-10 h-10 md:w-12 md:h-12 text-indigo-300" />
-                            </div>
-                            <div>
-                                <h2 className="text-2xl md:text-3xl font-bold text-white mb-2 font-arcade">Ï¬Ï╣┘ä┘à ┘êÏº┘äÏ╣Ï¿</h2>
-                                <p className="text-slate-400 text-sm">Ï¡┘üÏ© Ï¼Ï»┘èÏ»Ïî ┘àÏ▒ÏºÏ¼Ï╣Ï®Ïî Ïú┘äÏ╣ÏºÏ¿ Ï¬┘üÏºÏ╣┘ä┘èÏ®</p>
-                            </div>
-                        </button>
 
-                        {/* ACTION: RECITATE */}
-                        <button 
-                            onClick={() => handleActionSelect('RECITATE')}
-                            className="min-h-[16rem] h-auto bg-gradient-to-br from-emerald-900/60 to-slate-900 border-2 border-emerald-500/30 hover:border-emerald-400 rounded-[2rem] p-6 flex flex-col items-center justify-center text-center gap-4 group transition-all hover:scale-105 hover:shadow-[0_0_30px_rgba(16,185,129,0.2)]"
-                        >
-                            <div className="w-20 h-20 md:w-24 md:h-24 bg-emerald-500/20 rounded-full flex items-center justify-center group-hover:bg-emerald-500/30 transition-colors border-2 border-emerald-500/20 group-hover:border-emerald-400">
-                                <Mic className="w-10 h-10 md:w-12 md:h-12 text-emerald-300" />
-                            </div>
-                            <div>
-                                <h2 className="text-2xl md:text-3xl font-bold text-white mb-2 font-arcade">Ï¬Ï│┘à┘èÏ╣</h2>
-                                <p className="text-slate-400 text-sm">ÏºÏ«Ï¬Ï¿ÏºÏ▒ Ïº┘äÏ¬┘äÏº┘êÏ® ┘êÏº┘äÏ¬Ï¡┘é┘é ┘à┘å Ïº┘äÏ¡┘üÏ©</p>
-                            </div>
-                        </button>
-                    </motion.div>
-                )}
+    const handleActionSelect = (selectedIntent: Intent) => {
+        setIntent(selectedIntent);
+        setStep('SELECT_SURAH');
+    };
 
-                {/* --- STEP 2: SELECT SURAH --- */}
-                {step === 'SELECT_SURAH' && (
-                     <motion.div
-                        key="select-surah"
-                        initial={{ opacity: 0, x: 100 }}
-                        animate={{ opacity: 1, x: 0 }}
-                        exit={{ opacity: 0, x: -100 }}
-                        className="flex-1 flex flex-col bg-slate-800/80 backdrop-blur-md border border-slate-700 rounded-3xl p-6 shadow-xl max-w-2xl mx-auto w-full my-4"
-                     >
-                        <div className="flex items-center gap-4 mb-8">
-                            <button onClick={goBack} className="bg-slate-700 p-2 rounded-lg hover:bg-slate-600 transition-colors">
-                                <ArrowLeft size={20} />
-                            </button>
-                            <div>
-                                <h2 className="text-xl md:text-2xl font-bold text-white font-arcade">
-                                    {intent === 'LEARN' ? '┘àÏºÏ░Ïº Ï¬Ï▒┘èÏ» Ïú┘å Ï¬Ï¡┘üÏ©Ïƒ' : '┘àÏºÏ░Ïº Ï¬Ï▒┘èÏ» Ïú┘å Ï¬┘ÅÏ│┘à┘æÏ╣Ïƒ'}
-                                </h2>
-                                <p className="text-xs text-slate-400">ÏºÏ«Ï¬Ï▒ Ïº┘äÏ│┘êÏ▒Ï® ┘äÏ¬┘â┘à┘ä</p>
-                            </div>
+    const handleSurahConfirmed = () => {
+        if (!selectedSurah) return;
+
+        if (intent === 'RECITATE') {
+            // Direct Action: Start Diagnostic
+            const start = parseInt(rangeStart.toString()) || 1;
+            const end = verseMode === 'RANGE' ? (parseInt(rangeEnd.toString()) || undefined) : undefined;
+            onStartDiagnostic(selectedSurah, start, end);
+        } else {
+            // Go to Mode Selection for Learning
+            setStep('SELECT_MODE');
+        }
+    };
+
+    const handleGameStart = (mode: GameMode) => {
+        const start = parseInt(rangeStart.toString()) || 1;
+        const end = parseInt(rangeEnd.toString()) || 10;
+        const finalEnd = verseMode === 'RANGE' ? end : undefined;
+
+        const config = mode === 'LEARN' ? { inputMode: 'AUDIO' } : {};
+        onStartGame(selectedSurah, start, finalEnd, mode, config);
+    };
+
+    const goBack = () => {
+        if (isTrainingMode) {
+            // If in training mode (from diagnostic), back goes home
+            setStep('HOME');
+            setIntent(null);
+            setSelectedSurah("");
+            setIsTrainingMode(false);
+            return;
+        }
+
+        if (step === 'SELECT_MODE') setStep('SELECT_SURAH');
+        else if (step === 'SELECT_SURAH') {
+            setStep('USER_HOME'); // Back to User Home if logged in, else Home? Actually flow is User Home -> Select Surah
+            setIntent(null);
+            setSelectedSurah("");
+            setSearchTerm("");
+        } else if (step === 'USER_HOME') {
+            // Logout or go back to landing?
+            // Let's say back to Landing for now to allow "Logout" feel
+            setStep('HOME');
+            setUser(null);
+        } else if (step === 'AUTH') {
+            setStep('HOME');
+        }
+    };
+
+    const handleAuthSubmit = async (e: React.FormEvent) => {
+        e.preventDefault();
+        setLoading(true);
+        try {
+            if (authMode === 'LOGIN') {
+                await authService.signIn(email, password);
+                // Authentication state change will trigger the listener
+                await syncFromCloud();
+                setStep('USER_HOME');
+            } else {
+                await authService.signUp(email, password, name);
+                alert("Account created! Please sign in.");
+                setAuthMode('LOGIN');
+            }
+        } catch (error: any) {
+            console.error(error);
+            alert(error.message || "Authentication failed");
+        } finally {
+            setLoading(false);
+        }
+    };
+
+    return (
+        <div className="flex flex-col items-center min-h-screen bg-slate-900 overflow-hidden relative font-sans">
+            {/* Ambient Background (CSS-only, no external URLs) */}
+            <div className="absolute inset-0 bg-ambient z-0"></div>
+            <div className="absolute inset-0 bg-stardust opacity-40 z-0"></div>
+
+            <div className="relative z-10 w-full max-w-4xl flex flex-col h-full p-4 md:p-6 overflow-y-auto overflow-x-hidden">
+
+                {/* Header */}
+                {step !== 'HOME' && (
+                    <motion.header
+                        initial={{ y: -50, opacity: 0 }}
+                        animate={{ y: 0, opacity: 1 }}
+                        className="text-center py-4 md:py-8 shrink-0 relative z-20"
+                    >
+                        <div className="inline-flex items-center gap-2 bg-slate-900/40 backdrop-blur rounded-full px-4 py-1.5 border border-slate-800/50">
+                            <span className="text-slate-500 text-[10px] font-arcade tracking-widest opacity-80">HIFZ QUEST</span>
                         </div>
+                    </motion.header>
+                )}
+
+
 
-                        {/* Search Input */}
-                        <div className="relative mb-6" ref={suggestionsRef}>
-                            <div className="relative">
-                                <input 
-                                    type="text" 
-                                    value={searchTerm}
-                                    onChange={(e) => {
-                                        setSearchTerm(e.target.value);
-                                        setSelectedSurah(""); 
-                                        setShowSuggestions(true);
-                                    }}
-                                    onFocus={() => setShowSuggestions(true)}
-                                    placeholder="ÏºÏ¿Ï¡Ï½ Ï╣┘å Ïº┘äÏ│┘êÏ▒Ï®..."
-                                    className="w-full bg-slate-900/80 border-2 border-slate-600 rounded-2xl py-4 pl-4 pr-12 text-white font-sans text-lg focus:border-arcade-cyan focus:outline-none transition-all placeholder:text-slate-500 text-right"
-                                />
-                                <Search className="absolute right-4 top-4.5 w-6 h-6 text-slate-400" />
+                <AnimatePresence mode='wait'>
+
+                    {/* --- STEP 1: LANDING PAGE (HIGH CONVERSION) --- */}
+                    {step === 'HOME' && (
+                        <motion.div
+                            key="home"
+                            initial={{ opacity: 0 }}
+                            animate={{ opacity: 1 }}
+                            exit={{ opacity: 0 }}
+                            className="w-full flex-1 flex flex-col font-cairo"
+                        >
+                            {/* 1. Navbar (Conversion Focused) */}
+                            <div className="flex justify-between items-center px-6 py-6 max-w-7xl mx-auto w-full sticky top-0 z-50">
+                                <div className="bg-slate-900/90 backdrop-blur-md border border-slate-700/50 rounded-full px-5 py-2.5 flex items-center gap-3 shadow-xl">
+                                    <div className="bg-gradient-to-tr from-cyan-400 to-blue-600 w-9 h-9 rounded-full flex items-center justify-center shadow-lg shadow-cyan-500/20">
+                                        <Gamepad2 size={18} className="text-white" />
+                                    </div>
+                                    <span className="font-extrabold text-xl tracking-tight text-white font-cairo">HIFZ QUEST</span>
+                                </div>
+
+                                <div className="flex items-center gap-4">
+                                    <button
+                                        className="hidden md:block text-slate-300 font-bold hover:text-white transition-colors text-sm"
+                                        onClick={() => { }}
+                                    >
+                                        Ï¬┘êÏºÏÁ┘ä ┘àÏ╣┘åÏº
+                                    </button>
+                                    <button
+                                        className="text-white font-bold hover:text-cyan-300 transition-colors px-4 py-2"
+                                        onClick={() => { setStep('AUTH'); setAuthMode('LOGIN'); }}
+                                    >
+                                        Ï»Ï«┘ê┘ä
+                                    </button>
+                                    <button
+                                        onClick={() => { setStep('AUTH'); setAuthMode('REGISTER'); }}
+                                        className="bg-white text-slate-900 px-6 py-3 rounded-full font-black text-sm shadow-[0_4px_0_#cbd5e1] hover:-translate-y-1 hover:shadow-[0_8px_0_#cbd5e1] active:translate-y-0 active:shadow-none transition-all flex items-center gap-2"
+                                    >
+                                        Ï¼Ï▒Ï¿ ┘àÏ¼Ïº┘å┘ÇÏº┘ï ÔÜí
+                                    </button>
+                                </div>
                             </div>
 
+                            {/* Live Activity Notification */}
+                            {/* Live Activity Notification - Bottom Right (Less intrusive) */}
                             <AnimatePresence>
-                                {showSuggestions && searchTerm && (
-                                    <motion.div 
-                                        initial={{ opacity: 0, y: -10 }}
-                                        animate={{ opacity: 1, y: 0 }}
-                                        exit={{ opacity: 0, y: -10 }}
-                                        className="absolute z-50 w-full mt-2 bg-slate-800 border border-slate-600 rounded-xl shadow-2xl overflow-hidden max-h-40 overflow-y-auto"
+                                {currentActivity && (
+                                    <motion.div
+                                        initial={{ opacity: 0, x: 50 }}
+                                        animate={{ opacity: 1, x: 0 }}
+                                        exit={{ opacity: 0, x: 50, transition: { duration: 0.2 } }}
+                                        className="fixed bottom-8 right-4 md:right-8 z-50 bg-slate-900/95 backdrop-blur border border-slate-700/50 text-white px-5 py-3 rounded-2xl shadow-[0_8px_30px_rgb(0,0,0,0.12)] flex items-center gap-4 max-w-sm border-r-4 border-r-emerald-500"
                                     >
-                                        {getSuggestions().map((s) => (
-                                            <button key={s} onClick={() => handleSelectSurah(s)} className="w-full text-right px-4 py-3 text-white hover:bg-slate-700 border-b border-slate-700/50 last:border-0 font-bold">
-                                                {s}
-                                            </button>
-                                        ))}
+                                        <div className="bg-emerald-500/10 p-2 rounded-full shrink-0">
+                                            <Activity size={18} className="text-emerald-400" />
+                                        </div>
+                                        <div className="flex flex-col">
+                                            <span className="text-[10px] text-slate-400 font-bold mb-0.5">Ï¡Ï»Ï½ Ïº┘äÏó┘å</span>
+                                            <span className="text-sm font-bold leading-tight">{currentActivity}</span>
+                                        </div>
                                     </motion.div>
                                 )}
                             </AnimatePresence>
-                        </div>
 
-                        {/* Range Selection */}
-                        <div className="flex-1">
-                            {selectedSurah ? (
-                                <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} className="space-y-6">
-                                     <div className="bg-slate-900/50 p-4 rounded-xl border border-slate-700 flex justify-between items-center">
-                                        <span className="text-slate-400 text-xs">Ïº┘äÏ│┘êÏ▒Ï® Ïº┘ä┘àÏ«Ï¬ÏºÏ▒Ï®</span>
-                                        <span className="text-white font-bold text-xl">{selectedSurah}</span>
-                                     </div>
-
-                                    {/* Range Toggles */}
-                                    <div className="bg-slate-900 p-1 rounded-xl flex">
-                                        <button onClick={() => setVerseMode('FULL')} className={`flex-1 py-3 rounded-lg text-sm font-bold transition-all ${verseMode === 'FULL' ? 'bg-slate-700 text-white shadow' : 'text-slate-500'}`}>
-                                            ┘âÏº┘à┘ä Ïº┘äÏ│┘êÏ▒Ï®
-                                        </button>
-                                        <button onClick={() => setVerseMode('RANGE')} className={`flex-1 py-3 rounded-lg text-sm font-bold transition-all ${verseMode === 'RANGE' ? 'bg-slate-700 text-white shadow' : 'text-slate-500'}`}>
-                                            Ï¬Ï¡Ï»┘èÏ» Ïó┘èÏºÏ¬
-                                        </button>
+                            {/* 2. Hero Section (Persuasive & Emotional) */}
+                            <div className="text-center py-12 md:py-20 relative px-4 max-w-5xl mx-auto">
+                                <motion.div
+                                    initial={{ y: 20, opacity: 0 }}
+                                    animate={{ y: 0, opacity: 1 }}
+                                    className="inline-flex items-center gap-2 px-4 py-2 bg-indigo-500/10 border border-indigo-400/30 rounded-full text-indigo-300 text-xs font-bold mb-8 shadow-[0_0_15px_rgba(99,102,241,0.2)]"
+                                >
+                                    <div className="w-2 h-2 rounded-full bg-indigo-400 animate-pulse"></div>
+                                    ┘àÏ¬ÏºÏ¡ Ïº┘äÏó┘å: Ïº┘äÏÑÏÁÏ»ÏºÏ▒ Ïº┘äÏ¬Ï╣┘ä┘è┘à┘è Ïº┘äÏ¼Ï»┘èÏ» 2.0 ­ƒÜÇ
+                                </motion.div>
+
+                                {/* ­ƒÅå FIRST IN ISLAMIC WORLD STAMP */}
+                                {/* ­ƒÅå FIRST IN ISLAMIC WORLD STAMP */}
+                                <motion.div
+                                    initial={{ scale: 0, rotate: -45 }}
+                                    animate={{ scale: 1, rotate: -12 }}
+                                    transition={{ type: "spring", stiffness: 200, delay: 0.5 }}
+                                    className="absolute -top-6 -left-6 md:top-0 md:-left-8 z-20 hidden md:block select-none pointer-events-none opacity-90"
+                                >
+                                    <div className="relative">
+                                        <div className="absolute inset-0 border-[4px] border-amber-500/30 rounded-full animate-ping opacity-20"></div>
+                                        <div className="w-28 h-28 md:w-32 md:h-32 rounded-full border-[3px] border-amber-500/80 flex flex-col items-center justify-center bg-slate-900/60 backdrop-blur-sm text-center p-2 shadow-[0_0_30px_rgba(245,158,11,0.2)]">
+                                            <span className="text-white text-xs md:text-sm font-black leading-tight">
+                                                Ïº┘äÏú┘ê┘ä ┘ü┘è <br /> Ïº┘äÏ╣Ïº┘ä┘à Ïº┘äÏÑÏ│┘äÏº┘à┘è
+                                            </span>
+                                            <div className="w-8 h-0.5 bg-amber-500/80 my-1"></div>
+                                            <span className="text-amber-400 text-[9px] font-bold">┘äÏ¬Ï╣┘ä┘è┘à Ïº┘äÏúÏÀ┘üÏº┘ä Ô£¿</span>
+                                        </div>
+                                        {/* Star decoration */}
+                                        <div className="absolute -top-1 -right-1 text-amber-400/80 text-xl">Ô£ª</div>
+                                        <div className="absolute -bottom-1 -left-1 text-amber-400/80 text-lg">Ô£ª</div>
                                     </div>
+                                </motion.div>
 
-                                    {verseMode === 'RANGE' && (
-                                        <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} className="flex items-center gap-4 bg-slate-900/50 p-6 rounded-xl border border-slate-700">
-                                            <div className="flex-1">
-                                                <label className="text-xs text-slate-400 block mb-2 text-center">┘à┘å Ïº┘äÏó┘èÏ®</label>
-                                                <input type="number" min="1" value={rangeStart} onChange={e => setRangeStart(e.target.value)} className="w-full bg-slate-800 border border-slate-600 rounded-lg p-3 text-center text-white text-xl font-bold outline-none focus:border-arcade-cyan" />
+                                <h1 className="text-5xl md:text-7xl font-black mb-8 leading-[1.2] text-white">
+                                    ÏºÏ▓Ï▒Ï╣ ┘å┘êÏ▒ Ïº┘ä┘éÏ▒Ïó┘å <br className="hidden md:block" />
+                                    <span className="text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-500 relative">
+                                        ┘ü┘è ┘é┘äÏ¿ ÏÀ┘ü┘ä┘â
+                                        <svg className="absolute w-full h-3 -bottom-1 left-0 text-blue-500 opacity-50" viewBox="0 0 100 10" preserveAspectRatio="none">
+                                            <path d="M0 5 Q 50 10 100 5" stroke="currentColor" strokeWidth="3" fill="none" />
+                                        </svg>
+                                    </span>
+                                </h1>
+                                <p className="text-slate-300 text-lg md:text-2xl max-w-3xl mx-auto mb-12 font-medium leading-relaxed">
+                                    Ïú┘ê┘ä Ï¬ÏÀÏ¿┘è┘é Ï¬┘üÏºÏ╣┘ä┘è ┘èÏ¼┘àÏ╣ Ï¿┘è┘å "Ïº┘äÏ¬Ï╣┘ä┘à Ï¿Ïº┘ä┘äÏ╣Ï¿" ┘êÏ¿┘è┘å Ï»┘éÏ® Ïº┘äÏ¬┘äÏº┘êÏ® ┘êÏº┘äÏ¡┘üÏ©. <br className="hidden md:block" />
+                                    <span className="text-white font-bold">Ï¡┘ê┘æ┘ä┘åÏº Ï▒Ï¡┘äÏ® Ï¡┘üÏ© Ïº┘ä┘éÏ▒Ïó┘å</span> ┘à┘å ┘à┘ç┘àÏ® ÏÁÏ╣Ï¿Ï® ÏÑ┘ä┘ë ┘àÏ║Ïº┘àÏ▒Ï® ┘à┘àÏ¬Ï╣Ï® ┘è┘åÏ¬Ï©Ï▒┘çÏº ÏÀ┘ü┘ä┘â ┘â┘ä ┘è┘ê┘à Ï¿Ï┤┘ê┘é.
+                                </p>
+
+                                <div className="flex flex-col md:flex-row items-center justify-center gap-4 mb-16">
+                                    <button
+                                        onClick={() => { setStep('AUTH'); setAuthMode('REGISTER'); }}
+                                        className="w-full md:w-auto bg-gradient-to-r from-indigo-600 to-blue-600 text-white px-10 py-5 rounded-2xl font-black text-xl shadow-[0_10px_40px_rgba(79,70,229,0.4)] hover:scale-105 active:scale-95 transition-all flex items-center justify-center gap-3"
+                                    >
+                                        ÏºÏ¿Ï»Ïú Ï▒Ï¡┘äÏ® Ïº┘äÏ¡┘üÏ© ┘àÏ¼Ïº┘åÏº┘ï
+                                        <ChevronRight className="rtl:rotate-180" />
+                                    </button>
+
+                                    <div className="flex items-center gap-2 text-indigo-200 text-sm font-bold px-4 py-2 bg-indigo-900/30 rounded-full border border-indigo-500/20">
+                                        <div className="relative flex items-center justify-center w-3 h-3">
+                                            <span className="animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"></span>
+                                            <span className="relative inline-flex rounded-full h-2 w-2 bg-emerald-500"></span>
+                                        </div>
+                                        <p><span className="text-white font-black text-base mx-1">{activeLearners}</span> ÏÀ┘ü┘ä ┘èÏ¬Ï╣┘ä┘à┘ê┘å Ïº┘ä┘éÏ▒Ïó┘å Ïº┘äÏó┘å</p>
+                                    </div>
+                                </div>
+                            </div>
+
+                            {/* ­ƒô▒ DEVICE SUPPORT INFO */}
+                            <div className="flex flex-col items-center justify-center gap-3 mb-16 opacity-80">
+                                <p className="text-slate-400 text-xs md:text-sm font-bold tracking-wide">
+                                    ┘àÏ¬┘ê┘üÏ▒ Ïº┘äÏó┘å Ï╣┘ä┘ë Ï¼┘à┘èÏ╣ ÏúÏ¼┘çÏ▓Ï¬┘â Ïº┘ä┘à┘üÏÂ┘äÏ®
+                                </p>
+                                <div className="flex items-center gap-4 text-slate-500">
+                                    <span className="flex items-center gap-1 text-xs"><StartNew className="w-4 h-4" /> Laptop</span>
+                                    <span className="w-1 h-1 bg-slate-700 rounded-full"></span>
+                                    <span className="flex items-center gap-1 text-xs"><Tablet className="w-4 h-4" /> iPad</span>
+                                    <span className="w-1 h-1 bg-slate-700 rounded-full"></span>
+                                    <span className="flex items-center gap-1 text-xs"><Smartphone className="w-4 h-4" /> Smartphone</span>
+                                </div>
+                            </div>
+
+                            {/* ­ƒÆ¼ SCROLLING TESTIMONIALS (MOVED TO BOTTOM) */}
+
+                            {/* 2.5 Gameplay Showcase (Visual Proof) */}
+                            <div className="w-full max-w-6xl mx-auto px-4 mb-24">
+                                <div className="text-center mb-10">
+                                    <h2 className="text-3xl md:text-5xl font-black text-white mb-4">Ï┤Ïº┘çÏ» ┘â┘è┘ü ┘åÏ╣┘ä┘à┘ç┘à Ï¿Ïº┘ä┘äÏ╣Ï¿</h2>
+                                    <p className="text-slate-400 text-lg">Ï¬Ï¼Ï▒Ï¿Ï® Ï¿ÏÁÏ▒┘èÏ® ┘àÏ░┘ç┘äÏ® Ï¬Ï¼Ï░Ï¿ Ïº┘äÏÀ┘ü┘ä ┘à┘å Ïº┘äÏ¬┘äÏº┘êÏ® Ïº┘äÏú┘ê┘ä┘ë.</p>
+                                </div>
+
+                                <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
+                                    {/* Mock Screen 1: The Game */}
+                                    <motion.div whileHover={{ y: -5 }} className="bg-slate-800 rounded-3xl p-4 border border-slate-700 shadow-2xl relative overflow-hidden group">
+                                        <div className="absolute top-0 right-0 w-full h-1 bg-gradient-to-r from-indigo-500 to-purple-500"></div>
+                                        <div className="bg-slate-900 rounded-2xl h-64 overflow-hidden relative mb-4 border border-slate-700/50 flex flex-col">
+                                            {/* Header Mock */}
+                                            <div className="bg-slate-800 h-8 flex items-center px-3 justify-between">
+                                                <div className="flex gap-1.5">
+                                                    <div className="w-2 h-2 rounded-full bg-red-500"></div>
+                                                    <div className="w-2 h-2 rounded-full bg-yellow-500"></div>
+                                                    <div className="w-2 h-2 rounded-full bg-green-500"></div>
+                                                </div>
+                                                <div className="text-[10px] text-slate-500 font-mono">Game.exe</div>
                                             </div>
-                                            <div className="text-slate-500 font-bold text-xl pt-6">:</div>
-                                            <div className="flex-1">
-                                                <label className="text-xs text-slate-400 block mb-2 text-center">ÏÑ┘ä┘ë Ïº┘äÏó┘èÏ®</label>
-                                                <input type="number" min="1" value={rangeEnd} onChange={e => setRangeEnd(e.target.value)} className="w-full bg-slate-800 border border-slate-600 rounded-lg p-3 text-center text-white text-xl font-bold outline-none focus:border-arcade-cyan" />
+                                            {/* Game Body Mock */}
+                                            <div className="flex-1 p-4 flex flex-col items-center justify-center bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-indigo-900/40 via-slate-900 to-slate-900">
+                                                <div className="text-center mb-3">
+                                                    <div className="text-indigo-400 text-xs mb-1 font-bold">Ï│┘êÏ▒Ï® Ïº┘ä┘üÏºÏ¬Ï¡Ï®</div>
+                                                    <div className="bg-slate-800 px-3 py-1 rounded-lg text-white font-serif text-lg border border-slate-700 shadow-inner">
+                                                        ┘▒┘ä┘ÆÏ¡┘Ä┘à┘ÆÏ»┘Å ┘ä┘É┘ä┘Ä┘æ┘ç┘É Ï▒┘ÄÏ¿┘É┘æ ┘▒┘ä┘ÆÏ╣┘Ä┘░┘ä┘Ä┘à┘É┘è┘å┘Ä
+                                                    </div>
+                                                </div>
+                                                <div className="flex gap-2 w-full justify-center">
+                                                    <div className="w-8 h-8 rounded-lg bg-indigo-600/20 border border-indigo-500/50 animate-pulse"></div>
+                                                    <div className="w-8 h-8 rounded-lg bg-slate-700/50 border border-slate-600"></div>
+                                                    <div className="w-8 h-8 rounded-lg bg-slate-700/50 border border-slate-600"></div>
+                                                </div>
                                             </div>
-                                        </motion.div>
-                                    )}
-                                </motion.div>
-                            ) : (
-                                <div className="h-full flex flex-col items-center justify-center text-slate-600 opacity-50">
-                                    <Search size={48} className="mb-2" />
-                                    <p>ÏºÏ«Ï¬Ï▒ Ï│┘êÏ▒Ï® ┘ä┘äÏ¿Ï»Ïí</p>
+                                        </div>
+                                        <div className="text-center">
+                                            <h3 className="font-bold text-white text-lg mb-1">┘êÏºÏ¼┘çÏ® Ï¬┘üÏºÏ╣┘ä┘èÏ®</h3>
+                                            <p className="text-slate-500 text-xs">Ïú┘ä┘êÏº┘å ┘êÏúÏÁ┘êÏºÏ¬ Ï¬Ï┤Ï¼┘èÏ╣┘èÏ® Ï¬Ï¼Ï░Ï¿ Ïº┘åÏ¬Ï¿Ïº┘ç Ïº┘äÏÀ┘ü┘ä</p>
+                                        </div>
+                                    </motion.div>
+
+                                    {/* Mock Screen 2: AI Review */}
+                                    <motion.div whileHover={{ y: -5 }} className="bg-slate-800 rounded-3xl p-4 border border-slate-700 shadow-2xl relative overflow-hidden group">
+                                        <div className="absolute top-0 right-0 w-full h-1 bg-gradient-to-r from-emerald-500 to-teal-500"></div>
+                                        <div className="bg-slate-900 rounded-2xl h-64 overflow-hidden relative mb-4 border border-slate-700/50 flex flex-col">
+                                            <div className="bg-slate-800 h-8 flex items-center px-3 justify-between">
+                                                <div className="flex gap-1.5">
+                                                    <div className="w-2 h-2 rounded-full bg-slate-600"></div>
+                                                    <div className="w-2 h-2 rounded-full bg-slate-600"></div>
+                                                </div>
+                                                <Mic size={12} className="text-slate-500" />
+                                            </div>
+                                            <div className="flex-1 p-4 flex flex-col items-center justify-center bg-[radial-gradient(ellipse_at_bottom,_var(--tw-gradient-stops))] from-emerald-900/40 via-slate-900 to-slate-900">
+                                                <div className="w-16 h-16 rounded-full bg-emerald-500/10 border-2 border-emerald-500 flex items-center justify-center mb-4 relative">
+                                                    <Mic size={24} className="text-emerald-400 relative z-10" />
+                                                    <div className="absolute inset-0 bg-emerald-500/20 rounded-full animate-ping"></div>
+                                                </div>
+                                                <div className="flex justify-center gap-0.5 h-6 items-end w-full px-8">
+                                                    {[4, 7, 3, 8, 5, 9, 4, 6, 3, 7].map((h, i) => (
+                                                        <div key={i} className="flex-1 bg-emerald-500/80 rounded-t-sm" style={{ height: `${h}0%` }}></div>
+                                                    ))}
+                                                </div>
+                                                <div className="bg-emerald-900/50 text-emerald-300 text-[10px] px-2 py-1 rounded-md mt-3 border border-emerald-500/30">
+                                                    "┘à┘àÏ¬ÏºÏ▓! ÏúÏ¡Ï│┘åÏ¬ ┘ü┘è Ïº┘ä┘àÏ»"
+                                                </div>
+                                            </div>
+                                        </div>
+                                        <div className="text-center">
+                                            <h3 className="font-bold text-white text-lg mb-1">Ï¬ÏÁÏ¡┘èÏ¡ ┘ü┘êÏ▒┘è</h3>
+                                            <p className="text-slate-500 text-xs">Ï¬Ï¡┘ä┘è┘ä ÏÁ┘êÏ¬┘è Ï»┘é┘è┘é ┘ä┘àÏ«ÏºÏ▒Ï¼ Ïº┘äÏ¡Ï▒┘ê┘ü</p>
+                                        </div>
+                                    </motion.div>
+
+                                    {/* Mock Screen 3: Rewards */}
+                                    <motion.div whileHover={{ y: -5 }} className="bg-slate-800 rounded-3xl p-4 border border-slate-700 shadow-2xl relative overflow-hidden group">
+                                        <div className="absolute top-0 right-0 w-full h-1 bg-gradient-to-r from-yellow-500 to-orange-500"></div>
+                                        <div className="bg-slate-900 rounded-2xl h-64 overflow-hidden relative mb-4 border border-slate-700/50 flex flex-col">
+                                            <div className="bg-slate-800 h-8 flex items-center px-3 justify-end">
+                                                <Target size={12} className="text-slate-500" />
+                                            </div>
+                                            <div className="flex-1 p-4 flex flex-col items-center justify-center bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-yellow-900/20 via-slate-900 to-slate-900">
+                                                <div className="relative mb-4">
+                                                    <div className="text-6xl filter drop-shadow-[0_0_10px_rgba(234,179,8,0.5)]">­ƒÅå</div>
+                                                    <div className="absolute -top-2 -right-2 bg-red-500 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full">+50 XP</div>
+                                                </div>
+                                                <div className="w-full bg-slate-700/50 rounded-full h-2 mb-1 overflow-hidden">
+                                                    <div className="bg-yellow-400 h-full w-3/4 rounded-full"></div>
+                                                </div>
+                                                <div className="flex justify-between w-full text-[10px] text-slate-400 font-bold px-1">
+                                                    <span>Level 4</span>
+                                                    <span>Level 5</span>
+                                                </div>
+                                            </div>
+                                        </div>
+                                        <div className="text-center">
+                                            <h3 className="font-bold text-white text-lg mb-1">┘à┘âÏº┘üÏóÏ¬ ┘êÏ¼┘êÏºÏªÏ▓</h3>
+                                            <p className="text-slate-500 text-xs">┘åÏ©Ïº┘à Ï¬Ï¡┘ü┘èÏ▓┘è ┘àÏ│Ï¬┘àÏ▒ ┘äÏ¿┘åÏºÏí Ïº┘äÏ╣ÏºÏ»Ï®</p>
+                                        </div>
+                                    </motion.div>
+
                                 </div>
-                            )}
-                        </div>
+                            </div>
 
-                        <div className="mt-6">
-                            <ArcadeButton 
-                                disabled={!selectedSurah}
-                                size="lg" 
-                                onClick={handleSurahConfirmed}
-                                variant={intent === 'LEARN' ? 'primary' : 'success'}
-                                className={`w-full flex items-center justify-center gap-3 font-bold transition-all ${!selectedSurah ? 'opacity-50 grayscale cursor-not-allowed' : 'animate-pulse-fast'}`}
-                            >
-                                {intent === 'LEARN' ? 'ÏºÏ«Ï¬┘èÏºÏ▒ ÏÀÏ▒┘è┘éÏ® Ïº┘äÏ¡┘üÏ©' : 'Ï¿Ï»Ïí Ïº┘äÏ¬Ï│┘à┘èÏ╣'} <ChevronRight className="rtl:rotate-180" />
-                            </ArcadeButton>
-                        </div>
-                     </motion.div>
-                )}
+                            {/* 3. Core Features Grid (The "Why" - Solution Aware) */}
+                            <div className="grid grid-cols-1 md:grid-cols-12 gap-6 mb-24 w-full max-w-7xl mx-auto px-4">
+
+                                {/* Feature 1: Gamification (The Hook) */}
+                                <motion.div
+                                    whileHover={{ y: -5 }}
+                                    onClick={() => { setStep('AUTH'); setAuthMode('REGISTER'); }}
+                                    className="md:col-span-7 bg-slate-800/40 border border-white/10 rounded-[2.5rem] p-8 md:p-12 relative overflow-hidden group cursor-pointer hover:border-indigo-500/30 transition-colors"
+                                >
+                                    <div className="absolute inset-0 bg-gradient-to-br from-indigo-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"></div>
+
+                                    <div className="relative z-10">
+                                        <div className="bg-indigo-500/20 w-14 h-14 rounded-2xl flex items-center justify-center mb-6 text-indigo-400 group-hover:text-white group-hover:scale-110 transition-all duration-300">
+                                            <Gamepad2 size={32} />
+                                        </div>
+                                        <h3 className="text-3xl font-black mb-4 text-white">┘åÏ©Ïº┘à "Quest" Ïº┘äÏ¬Ï╣┘ä┘è┘à┘è</h3>
+                                        <p className="text-slate-300 text-lg leading-relaxed max-w-lg mb-6">
+                                            Ï¿Ï»┘äÏº┘ï ┘à┘å Ïº┘äÏ¬┘âÏ▒ÏºÏ▒ Ïº┘ä┘à┘à┘äÏî ┘è┘é┘ê┘à Ïº┘äÏÀ┘ü┘ä Ï¿┘à┘çÏº┘à ┘è┘ê┘à┘èÏ® Ï¬┘üÏºÏ╣┘ä┘èÏ®. ┘èÏ¼┘àÏ╣ Ïº┘ä┘å┘éÏºÏÀÏî ┘è┘üÏ¬Ï¡ Ïº┘äÏÁ┘åÏºÏ»┘è┘éÏî ┘ê┘èÏÀ┘êÏ▒ ┘àÏ│Ï¬┘êÏº┘ç.
+                                            <span className="text-indigo-300 font-bold block mt-2">Ï╣Ïº┘äÏ¼┘åÏº ┘àÏ┤┘â┘äÏ® "┘ü┘éÏ»Ïº┘å Ïº┘äÏ┤Ï║┘ü" ┘å┘çÏºÏª┘èÏº┘ï.</span>
+                                        </p>
+                                        <div className="flex flex-wrap gap-2">
+                                            <span className="px-3 py-1 bg-slate-700/50 rounded-lg text-xs font-bold text-slate-300">┘åÏ©Ïº┘à ┘à┘âÏº┘üÏóÏ¬</span>
+                                            <span className="px-3 py-1 bg-slate-700/50 rounded-lg text-xs font-bold text-slate-300">Ï¬Ï¡Ï»┘èÏºÏ¬ ┘è┘ê┘à┘èÏ®</span>
+                                        </div>
+                                    </div>
+                                </motion.div>
+
+                                {/* Feature 2: AI Tech (The Trust) */}
+                                <motion.div
+                                    whileHover={{ y: -5 }}
+                                    onClick={() => { setStep('AUTH'); setAuthMode('REGISTER'); }}
+                                    className="md:col-span-5 bg-slate-800/40 border border-white/10 rounded-[2.5rem] p-8 md:p-12 relative overflow-hidden group cursor-pointer hover:border-emerald-500/30 transition-colors"
+                                >
+                                    <div className="absolute inset-0 bg-gradient-to-br from-emerald-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"></div>
+
+                                    <div className="relative z-10">
+                                        <div className="bg-emerald-500/20 w-14 h-14 rounded-2xl flex items-center justify-center mb-6 text-emerald-400 group-hover:text-white group-hover:scale-110 transition-all duration-300">
+                                            <Mic size={32} />
+                                        </div>
+                                        <h3 className="text-3xl font-black mb-4 text-white">┘àÏÁÏ¡Ï¡ Ïº┘äÏ¬┘äÏº┘êÏ® Ïº┘äÏ░┘â┘è</h3>
+                                        <p className="text-slate-300 text-lg leading-relaxed mb-6">
+                                            ┘äÏº ┘ê┘éÏ¬ ┘ä┘äÏ¬Ï│┘à┘èÏ╣Ïƒ Ï░┘âÏºÏñ┘åÏº Ïº┘äÏºÏÁÏÀ┘åÏºÏ╣┘è ┘èÏ│Ï¬┘àÏ╣ ┘äÏÀ┘ü┘ä┘â ┘ê┘èÏÁÏ¡Ï¡ ┘ä┘ç Ïº┘äÏúÏ«ÏÀÏºÏí ┘ê┘àÏ«ÏºÏ▒Ï¼ Ïº┘äÏ¡Ï▒┘ê┘ü Ï¿Ï»┘éÏ® 99%.
+                                            <span className="text-emerald-300 font-bold block mt-2">┘àÏ╣┘ä┘à Ï«ÏºÏÁ ┘àÏ¬┘ê┘üÏ▒ 24 Ï│ÏºÏ╣Ï®.</span>
+                                        </p>
+
+                                        {/* Live Demo UI */}
+                                        <div className="bg-slate-900/50 rounded-xl p-3 flex items-center gap-3 border border-emerald-500/20">
+                                            <div className="w-2 h-2 rounded-full bg-red-500 animate-pulse"></div>
+                                            <div className="text-xs text-slate-400">Ï¼ÏºÏ▒┘è Ïº┘äÏºÏ│Ï¬┘àÏºÏ╣...</div>
+                                            <div className="flex-1 flex justify-end gap-1 h-3 items-end">
+                                                {[40, 70, 30, 80, 50, 90, 40].map((h, i) => (
+                                                    <div key={i} className="w-1 bg-emerald-500/50 rounded-full" style={{ height: `${h}%` }}></div>
+                                                ))}
+                                            </div>
+                                        </div>
+                                    </div>
+                                </motion.div>
+
+                                {/* Feature 3: Parent Control (The Convenience) */}
+                                <motion.div
+                                    whileHover={{ y: -5 }}
+                                    onClick={() => { setStep('AUTH'); setAuthMode('REGISTER'); }} // All paths lead to Auth first now
+                                    className="md:col-span-12 bg-gradient-to-r from-slate-800/60 to-slate-900/60 border border-white/10 rounded-[2.5rem] p-8 md:p-10 flex flex-col md:flex-row items-center justify-between gap-8 cursor-pointer hover:border-slate-600 transition-colors"
+                                >
+                                    <div className="flex-1 text-center md:text-right">
+                                        <div className="inline-flex items-center gap-2 bg-yellow-500/10 text-yellow-400 px-3 py-1 rounded-full text-xs font-bold mb-4 border border-yellow-500/20">
+                                            ­ƒÆÄ ┘à┘èÏ▓Ï® ┘ä┘äÏóÏ¿ÏºÏí
+                                        </div>
+                                        <h3 className="text-2xl md:text-3xl font-black mb-3 text-white">┘ä┘êÏ¡Ï® ┘àÏ¬ÏºÏ¿Ï╣Ï® ┘êÏ¿┘åÏºÏí Ï╣ÏºÏ»ÏºÏ¬</h3>
+                                        <p className="text-slate-400 text-lg max-w-2xl">
+                                            Ï¬ÏºÏ¿Ï╣ Ï¬┘éÏ»┘à ÏÀ┘ü┘ä┘âÏî Ï╣Ï»Ï» Ïº┘äÏó┘èÏºÏ¬ Ïº┘ä┘àÏ¡┘ü┘êÏ©Ï®Ïî ┘êÏú┘èÏº┘à Ïº┘äÏº┘äÏ¬Ï▓Ïº┘à Ï»┘ê┘å Ïº┘äÏ¡ÏºÏ¼Ï® ┘äÏ│ÏñÏº┘ä┘ç. ÏºÏ│Ï¬┘éÏ¿┘ä Ï¬┘éÏºÏ▒┘èÏ▒ ÏúÏ│Ï¿┘êÏ╣┘èÏ® Ï╣┘å ┘àÏ│Ï¬┘ê┘ë Ïº┘äÏ¡┘üÏ© ┘êÏº┘ä┘àÏ▒ÏºÏ¼Ï╣Ï®.
+                                        </p>
+                                    </div>
+
+                                    {/* Stats Preview */}
+                                    <div className="flex gap-4 md:gap-8 shrink-0">
+                                        <div className="text-center">
+                                            <div className="text-3xl md:text-4xl font-black text-white mb-1">15</div>
+                                            <div className="text-slate-500 text-xs font-bold uppercase">┘è┘ê┘à ┘àÏ¬┘êÏºÏÁ┘ä</div>
+                                        </div>
+                                        <div className="w-px bg-slate-700 h-12 self-center"></div>
+                                        <div className="text-center">
+                                            <div className="text-3xl md:text-4xl font-black text-emerald-400 mb-1">98%</div>
+                                            <div className="text-slate-500 text-xs font-bold uppercase">Ï»┘éÏ® Ïº┘äÏ¡┘üÏ©</div>
+                                        </div>
+                                    </div>
+                                </motion.div>
 
-                {/* --- STEP 3: SELECT MODE (LEARN INTENT ONLY) --- */}
-                {step === 'SELECT_MODE' && (
-                    <motion.div
-                        key="select-mode"
-                        initial={{ opacity: 0, x: 100 }}
-                        animate={{ opacity: 1, x: 0 }}
-                        exit={{ opacity: 0, x: -100 }}
-                        className="flex-1 flex flex-col w-full max-w-5xl mx-auto py-4"
-                    >
-                        <div className="flex items-center gap-4 mb-4 px-2 md:px-4">
-                            <button onClick={goBack} className="bg-slate-700 p-2 rounded-lg hover:bg-slate-600 transition-colors">
-                                <ArrowLeft size={20} />
-                            </button>
-                            <div>
-                                <h2 className="text-xl md:text-2xl font-bold text-white font-arcade">
-                                    {isTrainingMode ? 'Ï¬Ï»Ï▒┘èÏ¿ ┘à┘êÏ¼┘æ┘ç' : 'ÏºÏ«Ï¬Ï▒ Ïº┘äÏÀÏ▒┘è┘éÏ®'}
-                                </h2>
-                                <p className="text-xs text-slate-400">
-                                    Ï│┘êÏ▒Ï® {selectedSurah} 
-                                    {isTrainingMode && <span className="text-arcade-cyan font-bold mx-1">({rangeStart}-{rangeEnd || 'end'})</span>}
-                                </p>
                             </div>
-                        </div>
 
-                        {/* Training Mode Banner */}
-                        {isTrainingMode && (
-                            <div className="mx-2 md:mx-4 mb-6 bg-green-900/30 border border-green-500/50 p-4 rounded-xl flex items-center gap-3">
-                                <Target className="text-green-400 w-6 h-6 animate-pulse shrink-0" />
-                                <div>
-                                    <h3 className="font-arcade text-green-400 text-sm">Ï¬┘à ÏÂÏ¿ÏÀ Ïº┘äÏú┘äÏ╣ÏºÏ¿ Ï¿┘åÏºÏí┘ï Ï╣┘ä┘ë Ïº┘äÏ¬Ï┤Ï«┘èÏÁ</h3>
-                                    <p className="text-xs text-slate-400">Ï¼┘à┘èÏ╣ Ïº┘äÏú┘äÏ╣ÏºÏ¿ Ï│Ï¬Ï▒┘âÏ▓ Ïº┘äÏó┘å Ï╣┘ä┘ë Ïº┘äÏó┘èÏºÏ¬ Ïº┘äÏ¬┘è Ï¬Ï¡Ï¬ÏºÏ¼ ÏÑ┘ä┘ë Ï¬Ï¡Ï│┘è┘å.</p>
+                            {/* 4. Social Proof Ticker (Credibility - Enhanced & Scrolling) */}
+                            <div className="w-full bg-slate-900/50 border-y border-white/5 py-6 mb-20 overflow-hidden relative">
+                                <div className="absolute inset-y-0 left-0 w-32 bg-gradient-to-r from-slate-950 to-transparent z-10"></div>
+                                <div className="absolute inset-y-0 right-0 w-32 bg-gradient-to-l from-slate-950 to-transparent z-10"></div>
+
+                                <div className="flex relative overflow-hidden">
+                                    <motion.div
+                                        className="flex gap-16 whitespace-nowrap px-4"
+                                        animate={{ x: [0, -2000] }}
+                                        transition={{
+                                            repeat: Infinity,
+                                            ease: "linear",
+                                            duration: 80
+                                        }}
+                                    >
+                                        {[
+                                            { t: '­ƒîƒ "Ï¬ÏÀÏ¿┘è┘é Ï║┘è┘æÏ▒ Ï¡┘èÏºÏ® ÏºÏ¿┘å┘èÏî ÏúÏÁÏ¿Ï¡ ┘èÏ¡Ï¿ ┘êÏ▒Ï» Ïº┘ä┘éÏ▒Ïó┘å Ïº┘ä┘è┘ê┘à┘è"', a: 'Ïú┘à Ï╣Ï¿Ï» Ïº┘äÏ▒Ï¡┘à┘å' },
+                                            { t: '­ƒÅå "Ïº┘äÏ░┘âÏºÏí Ïº┘äÏºÏÁÏÀ┘åÏºÏ╣┘è Ï»┘é┘è┘é Ï¼Ï»Ïº┘ï ┘ü┘è ┘âÏ┤┘ü Ïº┘äÏúÏ«ÏÀÏºÏíÏî ┘âÏú┘å┘ç Ï┤┘èÏ« ┘èÏÁÏ¡Ï¡ ┘ä┘è"', a: 'Ï╣Ï¿Ï»Ïº┘ä┘ä┘çÏî 12 Ï│┘åÏ®' },
+                                            { t: '­ƒÆÄ "Ïú┘üÏÂ┘ä ÏºÏ│Ï¬Ï½┘àÏºÏ▒ ┘üÏ╣┘äÏ¬┘ç ┘äÏ¬Ï▒Ï¿┘èÏ® ÏúÏ¿┘åÏºÏª┘èÏî Ïú┘åÏÁÏ¡ Ï¿┘ç ┘â┘ä Ïú┘à"', a: 'Ïú┘à Ï┤┘çÏ»' },
+                                            { t: '­ƒÄ« "Ï¬ÏÁ┘à┘è┘à Ï▒ÏºÏªÏ╣ ┘èÏ¼Ï░Ï¿ Ïº┘äÏúÏÀ┘üÏº┘äÏî ┘ê┘äÏ»┘è ÏúÏ»┘à┘å Ï╣┘ä┘è┘ç Ï¿Ï»┘ä Ïº┘äÏú┘äÏ╣ÏºÏ¿ Ïº┘äÏÑ┘ä┘âÏ¬Ï▒┘ê┘å┘èÏ®!"', a: 'ÏúÏ¿┘ê Ï«Ïº┘äÏ»' },
+                                            { t: '­ƒÜÇ "┘àÏ│Ï¬┘ê┘ë ÏºÏ¿┘åÏ¬┘è Ï¬Ï¡Ï│┘å Ï¿Ï┤┘â┘ä ┘à┘äÏ¡┘êÏ© ┘ü┘è Ï┤┘çÏ▒ ┘êÏºÏ¡Ï» ┘ü┘éÏÀ"', a: 'Ïú┘à Ï▒┘è┘à' },
+                                            { t: 'Ô£¿ "ÏÀÏ▒┘è┘éÏ® Ïº┘äÏ¬Ï¡┘ü┘èÏ▓ Ï¿Ïº┘ä┘à┘âÏº┘üÏóÏ¬ ┘êÏº┘ä┘éÏÁÏÁ Ï¼Ï╣┘äÏ¬ Ïº┘äÏ¡┘üÏ© ┘à┘àÏ¬Ï╣Ïº┘ï Ï¼Ï»Ïº┘ï"', a: '┘è┘êÏ│┘üÏî 9 Ï│┘å┘êÏºÏ¬' },
+                                            { t: '­ƒñû "┘ä┘à ÏúÏ¬┘ê┘éÏ╣ Ïú┘å ┘è┘â┘ê┘å Ïº┘ä┘àÏÁÏ¡Ï¡ Ïº┘äÏó┘ä┘è Ï¿┘çÏ░┘ç Ïº┘äÏ»┘éÏ®Ïî ┘àÏ░┘ç┘ä!"', a: '┘àÏ¿Ï▒┘àÏ¼ Ï│ÏºÏ¿┘é' },
+                                            { t: 'ÔØñ´©Å "Ï¼Ï▓Ïº┘â┘à Ïº┘ä┘ä┘ç Ï«┘èÏ▒Ïº┘ï Ï╣┘ä┘ë ┘çÏ░Ïº Ïº┘äÏ╣┘à┘ä Ïº┘äÏ▒ÏºÏªÏ╣Ïî Ï│┘ç┘ä Ï╣┘ä┘è┘åÏº Ïº┘ä┘àÏ▒ÏºÏ¼Ï╣Ï®"', a: 'Ï╣ÏºÏª┘äÏ® Ïº┘äÏÁÏº┘äÏ¡' }
+                                        ].map((item, i) => (
+                                            <div key={i} className="flex items-center gap-3 text-slate-300 font-bold text-lg">
+                                                <span>{item.t}</span>
+                                                <span className="text-indigo-400 text-sm font-bold opacity-80">- {item.a}</span>
+                                                {i !== 7 && <span className="text-slate-700 mx-4">ÔÇó</span>}
+                                            </div>
+                                        ))}
+                                        {/* Duplicate for infinite loop illusion */}
+                                        {[
+                                            { t: '­ƒîƒ "Ï¬ÏÀÏ¿┘è┘é Ï║┘è┘æÏ▒ Ï¡┘èÏºÏ® ÏºÏ¿┘å┘èÏî ÏúÏÁÏ¿Ï¡ ┘èÏ¡Ï¿ ┘êÏ▒Ï» Ïº┘ä┘éÏ▒Ïó┘å Ïº┘ä┘è┘ê┘à┘è"', a: 'Ïú┘à Ï╣Ï¿Ï» Ïº┘äÏ▒Ï¡┘à┘å' },
+                                            { t: '­ƒÅå "Ïº┘äÏ░┘âÏºÏí Ïº┘äÏºÏÁÏÀ┘åÏºÏ╣┘è Ï»┘é┘è┘é Ï¼Ï»Ïº┘ï ┘ü┘è ┘âÏ┤┘ü Ïº┘äÏúÏ«ÏÀÏºÏíÏî ┘âÏú┘å┘ç Ï┤┘èÏ« ┘èÏÁÏ¡Ï¡ ┘ä┘è"', a: 'Ï╣Ï¿Ï»Ïº┘ä┘ä┘çÏî 12 Ï│┘åÏ®' },
+                                            { t: '­ƒÆÄ "Ïú┘üÏÂ┘ä ÏºÏ│Ï¬Ï½┘àÏºÏ▒ ┘üÏ╣┘äÏ¬┘ç ┘äÏ¬Ï▒Ï¿┘èÏ® ÏúÏ¿┘åÏºÏª┘èÏî Ïú┘åÏÁÏ¡ Ï¿┘ç ┘â┘ä Ïú┘à"', a: 'Ïú┘à Ï┤┘çÏ»' },
+                                            { t: '­ƒÄ« "Ï¬ÏÁ┘à┘è┘à Ï▒ÏºÏªÏ╣ ┘èÏ¼Ï░Ï¿ Ïº┘äÏúÏÀ┘üÏº┘äÏî ┘ê┘äÏ»┘è ÏúÏ»┘à┘å Ï╣┘ä┘è┘ç Ï¿Ï»┘ä Ïº┘äÏú┘äÏ╣ÏºÏ¿ Ïº┘äÏÑ┘ä┘âÏ¬Ï▒┘ê┘å┘èÏ®!"', a: 'ÏúÏ¿┘ê Ï«Ïº┘äÏ»' },
+                                        ].map((item, i) => (
+                                            <div key={`dup-${i}`} className="flex items-center gap-3 text-slate-300 font-bold text-lg">
+                                                <span>{item.t}</span>
+                                                <span className="text-indigo-400 text-sm font-bold opacity-80">- {item.a}</span>
+                                                <span className="text-slate-700 mx-4">ÔÇó</span>
+                                            </div>
+                                        ))}
+                                    </motion.div>
                                 </div>
                             </div>
-                        )}
-
-                        <div className="flex-1 overflow-y-auto px-2 md:px-4 pb-8 space-y-6 custom-scrollbar">
-                            
-                            <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
-                                {/* CARD 1: CORE LEARNING */}
-                                <button 
-                                    onClick={() => handleGameStart('LEARN')}
-                                    className="bg-slate-800 border-2 border-green-500/50 p-6 rounded-2xl hover:bg-slate-700 transition-all text-right group shadow-lg flex flex-col justify-between min-h-[12rem] md:min-h-[14rem]"
+                            {/* Floating Settings Button (Still accessible but cleaner) */}
+
+
+                        </motion.div>
+                    )}
+
+                    {/* --- STEP 1.5: AUTH SCREEN --- */}
+                    {step === 'AUTH' && (
+                        <motion.div
+                            key="auth"
+                            initial={{ opacity: 0, y: 20 }}
+                            animate={{ opacity: 1, y: 0 }}
+                            exit={{ opacity: 0, y: -20 }}
+                            className="w-full flex-1 flex flex-col items-center justify-center px-4 font-cairo"
+                        >
+                            <div className="bg-slate-800/80 backdrop-blur border border-slate-700 p-8 rounded-[2rem] shadow-2xl w-full max-w-md relative overflow-hidden">
+                                <div className="absolute top-0 right-0 w-full h-1.5 bg-gradient-to-r from-cyan-400 to-blue-500"></div>
+
+                                <button onClick={() => setStep('HOME')} className="absolute top-6 left-6 text-slate-400 hover:text-white transition-colors">
+                                    <ArrowLeft size={24} />
+                                </button>
+
+                                <div className="text-center mb-8">
+                                    <div className="bg-indigo-500/20 w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-4 text-indigo-400">
+                                        <User size={32} />
+                                    </div>
+                                    <h2 className="text-2xl font-black text-white mb-2">{authMode === 'LOGIN' ? '┘àÏ▒Ï¡Ï¿Ïº┘ï Ï¿Ï╣┘êÏ»Ï¬┘â' : 'Ïú┘åÏ┤Ïª Ï¡Ï│ÏºÏ¿ Ï¼Ï»┘èÏ»'}</h2>
+                                    <p className="text-slate-400 text-sm">{authMode === 'LOGIN' ? '┘äÏÑ┘â┘àÏº┘ä Ï▒Ï¡┘äÏ® Ï¡┘üÏ© Ïº┘ä┘éÏ▒Ïó┘å' : '┘ä┘äÏ¿Ï»Ïí ┘ü┘è ┘àÏ║Ïº┘àÏ▒Ï® Ïº┘äÏ¡┘üÏ©'}</p>
+                                </div>
+
+                                <form onSubmit={handleAuthSubmit} className="space-y-4">
+                                    {authMode === 'REGISTER' && (
+                                        <div className="relative">
+                                            <User className="absolute right-4 top-3.5 text-slate-500 w-5 h-5" />
+                                            <input
+                                                type="text"
+                                                placeholder="Ïº┘äÏºÏ│┘à Ïº┘ä┘âÏº┘à┘ä"
+                                                className="w-full bg-slate-900 border border-slate-700 rounded-xl py-3 pr-12 pl-4 text-white text-right focus:border-indigo-500 outline-none"
+                                                required
+                                                value={name}
+                                                onChange={(e) => setName(e.target.value)}
+                                            />
+                                        </div>
+                                    )}
+                                    <div className="relative">
+                                        <Mail className="absolute right-4 top-3.5 text-slate-500 w-5 h-5" />
+                                        <input
+                                            type="email"
+                                            placeholder="Ïº┘äÏ¿Ï▒┘èÏ» Ïº┘äÏÑ┘ä┘âÏ¬Ï▒┘ê┘å┘è"
+                                            className="w-full bg-slate-900 border border-slate-700 rounded-xl py-3 pr-12 pl-4 text-white text-right focus:border-indigo-500 outline-none"
+                                            required
+                                            value={email}
+                                            onChange={(e) => setEmail(e.target.value)}
+                                        />
+                                    </div>
+                                    <div className="relative">
+                                        <Lock className="absolute right-4 top-3.5 text-slate-500 w-5 h-5" />
+                                        <input
+                                            type="password"
+                                            placeholder="┘â┘ä┘àÏ® Ïº┘ä┘àÏ▒┘êÏ▒"
+                                            className="w-full bg-slate-900 border border-slate-700 rounded-xl py-3 pr-12 pl-4 text-white text-right focus:border-indigo-500 outline-none"
+                                            required
+                                            value={password}
+                                            onChange={(e) => setPassword(e.target.value)}
+                                        />
+                                    </div>
+
+                                    <button type="submit" disabled={loading} className="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-4 rounded-xl shadow-lg shadow-indigo-500/20 transition-all mt-4 disabled:opacity-50">
+                                        {loading ? 'Ï¼ÏºÏ▒┘è Ïº┘äÏ¬Ï¡┘à┘è┘ä...' : (authMode === 'LOGIN' ? 'Ï¬Ï│Ï¼┘è┘ä Ïº┘äÏ»Ï«┘ê┘ä' : 'ÏÑ┘åÏ┤ÏºÏí Ïº┘äÏ¡Ï│ÏºÏ¿')}
+                                    </button>
+                                </form>
+
+                                <div className="mt-6 text-center text-sm text-slate-400">
+                                    {authMode === 'LOGIN' ? '┘ä┘èÏ│ ┘äÏ»┘è┘â Ï¡Ï│ÏºÏ¿Ïƒ' : '┘äÏ»┘è┘â Ï¡Ï│ÏºÏ¿ Ï¿Ïº┘ä┘üÏ╣┘äÏƒ'}
+                                    <button
+                                        onClick={() => setAuthMode(authMode === 'LOGIN' ? 'REGISTER' : 'LOGIN')}
+                                        className="text-indigo-400 font-bold mr-2 hover:underline"
+                                    >
+                                        {authMode === 'LOGIN' ? 'Ï│Ï¼┘ä Ïº┘äÏó┘å' : 'Ï│Ï¼┘ä Ï»Ï«┘ê┘ä┘â'}
+                                    </button>
+                                </div>
+                            </div>
+                        </motion.div>
+                    )}
+
+                    {/* --- STEP 1.6: USER DASHBOARD (New Home) --- */}
+                    {step === 'USER_HOME' && user && (
+                        <motion.div
+                            key="user-home"
+                            initial={{ opacity: 0 }}
+                            animate={{ opacity: 1 }}
+                            exit={{ opacity: 0 }}
+                            className="w-full flex-1 flex flex-col font-cairo max-w-6xl mx-auto px-4"
+                        >
+                            {/* Dashboard Header */}
+                            <div className="flex items-center justify-between py-6 mb-8">
+                                <div
+                                    onClick={onOpenDashboard}
+                                    className="flex items-center gap-4 cursor-pointer hover:bg-slate-800/50 p-3 rounded-3xl transition-all group"
                                 >
-                                    <div className="flex justify-between items-start">
-                                        <div className="bg-green-500/20 p-3 rounded-full">
-                                            <Mic className="text-green-400 w-6 h-6" />
+                                    <div className="relative">
+                                        <div className="w-16 h-16 rounded-full bg-indigo-500 flex items-center justify-center text-2xl font-black text-white border-4 border-slate-800 shadow-xl group-hover:scale-105 transition-transform">
+                                            {user.name.charAt(0)}
+                                        </div>
+                                        <div className="absolute -bottom-1 -right-1 bg-emerald-500 border-2 border-slate-900 w-6 h-6 rounded-full flex items-center justify-center">
+                                            <Sparkles size={12} className="text-white" />
                                         </div>
-                                        <span className="text-green-400 font-arcade text-xs">Ï¡┘üÏ© ┘êÏ¬┘ä┘é┘è┘å</span>
                                     </div>
                                     <div>
-                                        <h4 className="text-xl font-bold text-white group-hover:text-green-400 transition-colors">Ïº┘ä┘àÏ¡┘üÏ© Ïº┘äÏ░┘â┘è</h4>
-                                        <p className="text-slate-400 text-sm mt-1">Ï¬┘ä┘é┘è┘å Ïº┘äÏó┘èÏºÏ¬ ┘êÏÑÏ«┘üÏºÏí Ï¬Ï»Ï▒┘èÏ¼┘è ┘ä┘ä┘â┘ä┘àÏºÏ¬.</p>
+                                        <h2 className="text-2xl font-black text-white group-hover:text-indigo-300 transition-colors">┘àÏ▒Ï¡Ï¿Ïº┘ïÏî {user.name} ­ƒæï</h2>
+                                        <div className="flex items-center gap-3 text-sm font-bold text-slate-400">
+                                            <span className="flex items-center gap-1 text-yellow-400"><Target size={14} /> Ïº┘ä┘àÏ│Ï¬┘ê┘ë {user.level}</span>
+                                            <span className="w-1 h-1 rounded-full bg-slate-600"></span>
+                                            <span className="text-indigo-400">{user.xp} XP</span>
+                                        </div>
                                     </div>
-                                </button>
+                                    <ChevronRight className="text-slate-600 rtl:rotate-180 group-hover:text-white transition-colors mr-2" />
+                                </div>
+                                <button onClick={() => setStep('HOME')} className="text-slate-500 hover:text-white text-sm font-bold">Ï¬Ï│Ï¼┘è┘ä Ï«Ï▒┘êÏ¼</button>
+                            </div>
+
+                            {/* Main Actions Grid (12-Column Layout) */}
+                            <div className="grid grid-cols-1 md:grid-cols-12 gap-6 mb-12">
 
-                                {/* CARD 2: INTERACTIVE REVISION (CLASSIC GAME) */}
-                                <button 
-                                    onClick={() => handleGameStart('CLASSIC')}
-                                    className="bg-slate-800 border-2 border-arcade-cyan/50 p-6 rounded-2xl hover:bg-slate-700 transition-all text-right group shadow-lg flex flex-col justify-between min-h-[12rem] md:min-h-[14rem]"
+                                {/* 1. Continue Journey (Focus - 8 Cols) */}
+                                <button
+                                    onClick={() => handleActionSelect('LEARN')}
+                                    className="md:col-span-8 bg-gradient-to-br from-indigo-600 to-blue-700 rounded-[2.5rem] p-8 text-right relative overflow-hidden group shadow-lg hover:-translate-y-1 transition-transform"
                                 >
-                                    <div className="flex justify-between items-start">
-                                        <div className="bg-arcade-cyan/20 p-3 rounded-full">
-                                            <Zap className="text-arcade-cyan w-6 h-6" />
+                                    <div className="absolute top-0 right-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/arabesque.png')] opacity-10"></div>
+                                    <div className="relative z-10 flex flex-col md:flex-row items-center md:items-start justify-between gap-6">
+                                        <div className="flex-1">
+                                            <div className="bg-white/20 w-fit p-3 rounded-2xl mb-4 backdrop-blur-sm">
+                                                <Play className="text-white w-8 h-8 fill-current" />
+                                            </div>
+                                            <h3 className="text-3xl font-black text-white mb-2">Ïú┘â┘à┘ä Ï▒Ï¡┘äÏ¬┘â</h3>
+                                            <p className="text-indigo-100 text-lg mb-6">Ï¬┘ê┘é┘üÏ¬ Ï╣┘åÏ»: Ï│┘êÏ▒Ï® Ïº┘äÏ¿┘éÏ▒Ï® - Ïº┘äÏó┘èÏ® 25</p>
+                                        </div>
+                                        <div className="w-full md:w-1/2 bg-black/20 rounded-2xl p-4 border border-white/10">
+                                            <div className="flex justify-between text-xs text-indigo-200 font-bold mb-2">
+                                                <span>Ïº┘äÏ¬┘éÏ»┘à ┘ü┘è Ïº┘äÏ│┘êÏ▒Ï®</span>
+                                                <span>65%</span>
+                                            </div>
+                                            <div className="w-full bg-black/20 rounded-full h-3">
+                                                <div className="bg-yellow-400 h-full w-[65%] rounded-full shadow-[0_0_10px_rgba(250,204,21,0.5)]"></div>
+                                            </div>
                                         </div>
-                                        <span className="text-arcade-cyan font-arcade text-xs">┘àÏ▒ÏºÏ¼Ï╣Ï® Ï│Ï▒┘èÏ╣Ï®</span>
                                     </div>
+                                </button>
+
+                                {/* 2. Start New (Secondary - 4 Cols) */}
+                                <button
+                                    onClick={() => handleActionSelect('LEARN')}
+                                    className="md:col-span-4 bg-slate-800 border border-slate-700 rounded-[2.5rem] p-8 text-right hover:border-emerald-500/50 hover:bg-slate-800/80 transition-all group flex flex-col justify-between"
+                                >
                                     <div>
-                                        <h4 className="text-xl font-bold text-white group-hover:text-arcade-cyan transition-colors">Ï¼Ï│Ï▒ Ïº┘äÏó┘èÏºÏ¬</h4>
-                                        <p className="text-slate-400 text-sm mt-1">Ïú┘â┘à┘ä Ïº┘äÏó┘èÏºÏ¬ Ï¿ÏºÏ«Ï¬┘èÏºÏ▒ Ïº┘ä┘â┘ä┘àÏ® Ïº┘äÏ¬Ïº┘ä┘èÏ® (Ï«┘èÏºÏ▒ÏºÏ¬).</p>
+                                        <div className="bg-emerald-500/20 w-fit p-3 rounded-2xl mb-4 group-hover:bg-emerald-500 group-hover:text-white transition-colors text-emerald-400">
+                                            <BookOpen className="w-8 h-8" />
+                                        </div>
+                                        <h3 className="text-xl font-black text-white mb-1">Ï¡┘üÏ© Ï¼Ï»┘èÏ»</h3>
+                                        <p className="text-slate-400 text-sm">ÏºÏ¿Ï»Ïú Ï│┘êÏ▒Ï® Ï¼Ï»┘èÏ»Ï®</p>
+                                    </div>
+                                    <div className="border-t border-slate-700 mt-4 pt-4 flex items-center justify-between">
+                                        <span className="text-xs text-slate-500">ÏºÏ«Ï¬Ï▒ ┘à┘å Ïº┘ä┘àÏÁÏ¡┘ü</span>
+                                        <div className="w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center group-hover:bg-emerald-500 group-hover:text-white transition-colors text-slate-400">
+                                            <ChevronRight className="rtl:rotate-180" size={16} />
+                                        </div>
+                                    </div>
+                                </button>
+
+                                {/* 3. Recitation Corrector (6 Cols) */}
+                                <button
+                                    onClick={() => handleActionSelect('RECITATE')}
+                                    className="md:col-span-6 bg-slate-800 border border-slate-700 rounded-[2.5rem] p-8 text-right hover:border-indigo-500/50 hover:bg-slate-800/80 transition-all group relative overflow-hidden"
+                                >
+                                    <div className="flex items-center justify-between relative z-10">
+                                        <div>
+                                            <div className="bg-indigo-500/20 w-fit p-3 rounded-2xl mb-4 group-hover:bg-indigo-500 group-hover:text-white transition-colors text-indigo-400">
+                                                <Mic className="w-8 h-8" />
+                                            </div>
+                                            <h3 className="text-xl font-black text-white mb-1">┘àÏÁÏ¡Ï¡ Ïº┘äÏ¬┘äÏº┘êÏ®</h3>
+                                            <p className="text-slate-400 text-sm">Ï░┘âÏºÏí ÏºÏÁÏÀ┘åÏºÏ╣┘è ┘èÏÁÏ¡Ï¡ Ï¬┘äÏº┘êÏ¬┘â</p>
+                                        </div>
+                                        <div className="text-slate-700 opacity-20 group-hover:opacity-40 transition-opacity">
+                                            <Waves size={100} />
+                                        </div>
                                     </div>
                                 </button>
-                            </div>
 
-                            {/* SECTION: ASSESSMENT */}
-                            <section>
-                                <button 
+                                {/* 4. Quiz (6 Cols) */}
+                                <button
                                     onClick={() => handleGameStart('QUIZ')}
-                                    className="w-full bg-slate-800 border-l-4 border-yellow-500 p-6 rounded-r-xl hover:bg-slate-700 transition-all text-right group shadow-lg flex items-center justify-between"
+                                    className="md:col-span-6 bg-slate-800 border border-slate-700 rounded-[2.5rem] p-8 text-right hover:border-yellow-500/50 hover:bg-slate-800/80 transition-all group relative overflow-hidden"
                                 >
-                                    <div>
-                                        <div className="flex items-center gap-2 mb-1">
-                                            <BookOpen className="text-yellow-400 w-5 h-5" />
-                                            <h4 className="text-lg font-bold text-white group-hover:text-yellow-400 transition-colors">ÏºÏ«Ï¬Ï¿ÏºÏ▒ Ïº┘ä┘àÏ╣Ïº┘å┘è ┘êÏº┘äÏ¬┘üÏ│┘èÏ▒</h4>
+                                    <div className="flex items-center justify-between relative z-10">
+                                        <div>
+                                            <div className="bg-yellow-500/20 w-fit p-3 rounded-2xl mb-4 group-hover:bg-yellow-500 group-hover:text-white transition-colors text-yellow-400">
+                                                <Brain className="w-8 h-8" />
+                                            </div>
+                                            <h3 className="text-xl font-black text-white mb-1">ÏºÏ«Ï¬Ï¿Ï▒ Ï¡┘üÏ©┘â</h3>
+                                            <p className="text-slate-400 text-sm">┘àÏ▒ÏºÏ¼Ï╣Ï® Ï│Ï▒┘èÏ╣Ï® ┘êÏ¬Ï½Ï¿┘èÏ¬ ┘ä┘äÏ¡┘üÏ©</p>
+                                        </div>
+                                        <div className="text-slate-700 opacity-20 group-hover:opacity-40 transition-opacity">
+                                            <Puzzle size={100} />
+                                        </div>
+                                    </div>
+                                </button>
+
+                                {/* 5. Full Stats (12 Cols) */}
+                                <button
+                                    onClick={onOpenDashboard}
+                                    className="md:col-span-12 bg-slate-800 border border-slate-700 rounded-[2.5rem] p-8 text-right hover:border-purple-500/50 hover:bg-slate-800/80 transition-all group"
+                                >
+                                    <div className="flex flex-col md:flex-row items-center justify-between gap-6">
+                                        <div className="flex items-center gap-4">
+                                            <div className="bg-purple-500/20 w-16 h-16 rounded-2xl flex items-center justify-center group-hover:bg-purple-500 group-hover:text-white transition-colors text-purple-400 shrink-0">
+                                                <Activity className="w-8 h-8" />
+                                            </div>
+                                            <div>
+                                                <h3 className="text-2xl font-black text-white mb-1">ÏÑÏ¡ÏÁÏºÏª┘èÏºÏ¬┘â Ïº┘ä┘âÏº┘à┘äÏ®</h3>
+                                                <p className="text-slate-400 text-sm">ÏºÏÂÏ║ÏÀ ┘äÏ╣Ï▒ÏÂ Ï¬┘üÏºÏÁ┘è┘ä Ï¬┘éÏ»┘à┘âÏî Ï╣Ï»Ï» Ïº┘äÏó┘èÏºÏ¬ Ïº┘ä┘àÏ¡┘ü┘êÏ©Ï®Ïî ┘êÏú┘èÏº┘à Ïº┘äÏº┘äÏ¬Ï▓Ïº┘à.</p>
+                                            </div>
+                                        </div>
+
+                                        <div className="flex gap-4 w-full md:w-auto">
+                                            <div className="flex-1 md:flex-none text-center bg-slate-900 px-6 py-3 rounded-2xl border border-slate-700">
+                                                <div className="text-2xl font-black text-white mb-1">12</div>
+                                                <div className="text-[10px] text-slate-500 font-bold">┘è┘ê┘à ┘àÏ¬┘êÏºÏÁ┘ä</div>
+                                            </div>
+                                            <div className="flex-1 md:flex-none text-center bg-slate-900 px-6 py-3 rounded-2xl border border-slate-700">
+                                                <div className="text-2xl font-black text-emerald-400 mb-1">A+</div>
+                                                <div className="text-[10px] text-slate-500 font-bold">┘àÏ╣Ï»┘ä Ïº┘äÏ»┘éÏ®</div>
+                                            </div>
                                         </div>
-                                        <p className="text-slate-400 text-sm">ÏúÏ│Ïª┘äÏ® ┘àÏ¬Ï╣Ï»Ï»Ï® ┘ü┘è Ïº┘ä┘à┘üÏ▒Ï»ÏºÏ¬ ┘êÏº┘äÏ¬┘üÏ│┘èÏ▒.</p>
                                     </div>
-                                    <ChevronRight className="text-slate-600 group-hover:text-white rtl:rotate-180" />
                                 </button>
-                            </section>
 
-                            {/* SECTION: ARCADE GAMES */}
-                            <section>
-                                <div className="flex items-center gap-2 mb-4 text-slate-400 border-b border-slate-700 pb-2">
-                                    <Gamepad2 size={16} />
-                                    <h3 className="font-arcade text-sm">Ïú┘äÏ╣ÏºÏ¿ ÏÑÏÂÏº┘ü┘èÏ® (ÏóÏ▒┘â┘èÏ»)</h3>
+                            </div>
+
+                        </motion.div>
+                    )}
+
+                    {/* --- STEP 2: SELECT SURAH (QUEST LOG STYLE) --- */}
+                    {step === 'SELECT_SURAH' && (
+                        <motion.div
+                            key="select-surah"
+                            initial={{ opacity: 0, x: 50 }}
+                            animate={{ opacity: 1, x: 0 }}
+                            exit={{ opacity: 0, x: -50 }}
+                            className="flex-1 flex flex-col w-full max-w-4xl mx-auto my-4 px-4 font-cairo"
+                        >
+                            {/* Navigation Header */}
+                            <div className="flex items-center gap-4 mb-6">
+                                <button onClick={goBack} className="bg-slate-800/80 p-3 rounded-full hover:bg-slate-700 hover:scale-110 transition-all border border-slate-700 shadow-lg text-white">
+                                    <ArrowLeft size={24} />
+                                </button>
+                                <div>
+                                    <h2 className="text-2xl md:text-3xl font-black text-white">
+                                        {intent === 'LEARN' ? '­ƒô£ ÏºÏ«Ï¬Ï▒ Ï│┘êÏ▒Ï® ┘ä┘äÏ¡┘üÏ©' : '­ƒÄñ ÏºÏ«Ï¬Ï▒ Ï│┘êÏ▒Ï® ┘ä┘äÏ¬Ï│┘à┘èÏ╣'}
+                                    </h2>
+                                    <p className="text-indigo-300 text-sm font-bold">Ï▒Ï¡┘äÏ¬┘â Ï¬Ï¿Ï»Ïú ┘ç┘åÏº</p>
+                                </div>
+                            </div>
+
+                            <div className="bg-slate-800/60 backdrop-blur-xl border border-slate-700/50 rounded-[2rem] p-6 md:p-8 shadow-2xl flex-1 flex flex-col">
+
+                                {/* Search Input (RPG Inventory Search Style) */}
+                                <div className="relative mb-8" ref={suggestionsRef}>
+                                    <div className="relative group">
+                                        <input
+                                            type="text"
+                                            value={searchTerm}
+                                            onChange={(e) => {
+                                                setSearchTerm(e.target.value);
+                                                setSelectedSurah("");
+                                                setShowSuggestions(true);
+                                            }}
+                                            onFocus={() => setShowSuggestions(true)}
+                                            placeholder="ÏºÏ¿Ï¡Ï½ Ï╣┘å Ïº┘äÏ│┘êÏ▒Ï®..."
+                                            className="w-full bg-slate-900 border-2 border-slate-700 rounded-2xl py-4 pl-4 pr-14 text-white font-bold text-lg focus:border-indigo-500 focus:shadow-[0_0_20px_rgba(99,102,241,0.3)] focus:outline-none transition-all placeholder:text-slate-500 text-right"
+                                        />
+                                        <Search className="absolute right-5 top-5 w-6 h-6 text-slate-400 group-focus-within:text-indigo-400 transition-colors" />
+                                    </div>
+
+                                    <AnimatePresence>
+                                        {showSuggestions && searchTerm && (
+                                            <motion.div
+                                                initial={{ opacity: 0, y: -10, scale: 0.95 }}
+                                                animate={{ opacity: 1, y: 0, scale: 1 }}
+                                                exit={{ opacity: 0, y: -10 }}
+                                                className="absolute z-50 w-full mt-2 bg-slate-900 border border-slate-700 rounded-2xl shadow-2xl overflow-hidden max-h-60 overflow-y-auto custom-scrollbar"
+                                            >
+                                                {getSuggestions().map((s) => (
+                                                    <button key={s} onClick={() => handleSelectSurah(s)} className="w-full text-right px-6 py-4 text-slate-200 hover:bg-indigo-600/20 hover:text-white border-b border-slate-800 last:border-0 font-bold transition-colors flex justify-between items-center group">
+                                                        <span>{s}</span>
+                                                        <ChevronRight size={16} className="opacity-0 group-hover:opacity-100 text-indigo-400 transform rotate-180" />
+                                                    </button>
+                                                ))}
+                                            </motion.div>
+                                        )}
+                                    </AnimatePresence>
                                 </div>
-                                <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
-                                    <GameCard 
-                                        title="Ï¬Ï▒Ï¬┘èÏ¿" 
-                                        desc="Ï▒Ï¬Ï¿ Ïº┘äÏó┘èÏºÏ¬"
-                                        icon={<Puzzle />}
-                                        color="purple"
-                                        onClick={() => handleGameStart('ASSEMBLY')}
-                                    />
-                                    <GameCard 
-                                        title="Ï¬Ï▓┘äÏ¼" 
-                                        desc="Ïº┘äÏ¬┘éÏÀ Ïº┘ä┘â┘ä┘àÏºÏ¬"
-                                        icon={<Waves />}
-                                        color="blue"
-                                        onClick={() => handleGameStart('SURF')}
-                                    />
-                                    <GameCard 
-                                        title="Ï¿Ï▒Ï¼" 
-                                        desc="ÏºÏ¿┘å┘É Ïº┘ä┘â┘ä┘àÏºÏ¬"
-                                        icon={<Layers />}
-                                        color="emerald"
-                                        onClick={() => handleGameStart('STACK')}
-                                    />
-                                    <GameCard 
-                                        title="ÏÁ┘à┘êÏ»" 
-                                        desc="Ï»Ïº┘üÏ╣ Ï╣┘å Ïº┘äÏ¡┘üÏ©"
-                                        icon={<Ghost />} 
-                                        color="red"
-                                        onClick={() => handleGameStart('SURVIVOR')}
-                                    />
+
+                                {/* Selection Details Panel */}
+                                {selectedSurah ? (
+                                    <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} className="flex-1 flex flex-col">
+
+                                        {/* Surah Card */}
+                                        <div className="bg-gradient-to-br from-indigo-900/50 to-slate-900 border border-indigo-500/30 p-6 rounded-3xl mb-6 flex items-center justify-between shadow-inner relative overflow-hidden">
+                                            <div className="absolute top-0 right-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/arabesque.png')] opacity-5 pointer-events-none"></div>
+                                            <div>
+                                                <span className="text-indigo-400 text-xs font-bold uppercase tracking-widest mb-1 block">Ïº┘äÏ│┘êÏ▒Ï® Ïº┘ä┘àÏ«Ï¬ÏºÏ▒Ï®</span>
+                                                <span className="text-white font-black text-4xl drop-shadow-md">{selectedSurah}</span>
+                                            </div>
+                                            <div className="bg-indigo-500/20 p-4 rounded-full border border-indigo-500/30">
+                                                <BookOpen className="text-indigo-400 w-8 h-8" />
+                                            </div>
+                                        </div>
+
+                                        {/* Range Selection Toggles (Gamified Segmented Control) */}
+                                        <div className="bg-slate-900/80 p-1.5 rounded-2xl flex mb-6 shadow-inner">
+                                            <button onClick={() => setVerseMode('FULL')} className={`flex-1 py-3 rounded-xl text-sm font-bold transition-all ${verseMode === 'FULL' ? 'bg-indigo-600 text-white shadow-lg' : 'text-slate-400 hover:text-slate-200'}`}>
+                                                ┘âÏº┘à┘ä Ïº┘äÏ│┘êÏ▒Ï® ­ƒîƒ
+                                            </button>
+                                            <button onClick={() => setVerseMode('RANGE')} className={`flex-1 py-3 rounded-xl text-sm font-bold transition-all ${verseMode === 'RANGE' ? 'bg-indigo-600 text-white shadow-lg' : 'text-slate-400 hover:text-slate-200'}`}>
+                                                Ïó┘èÏºÏ¬ ┘àÏ¡Ï»Ï»Ï® ­ƒÄ»
+                                            </button>
+                                        </div>
+
+                                        {verseMode === 'RANGE' && (
+                                            <motion.div initial={{ opacity: 0, height: 0 }} animate={{ opacity: 1, height: 'auto' }} className="flex items-center gap-4 bg-slate-900/50 p-6 rounded-2xl border border-slate-700/50 mb-6">
+                                                <div className="flex-1">
+                                                    <label className="text-xs text-indigo-300 font-bold block mb-2 text-center">┘à┘å Ïº┘äÏó┘èÏ®</label>
+                                                    <div className="relative">
+                                                        <input type="number" min="1" value={rangeStart} onChange={e => setRangeStart(e.target.value)} className="w-full bg-slate-800 border-2 border-slate-600 rounded-xl p-3 text-center text-white text-2xl font-black outline-none focus:border-indigo-500 transition-colors" />
+                                                    </div>
+                                                </div>
+                                                <div className="text-slate-600 font-black text-2xl pt-6">Ô¼à´©Å</div>
+                                                <div className="flex-1">
+                                                    <label className="text-xs text-indigo-300 font-bold block mb-2 text-center">ÏÑ┘ä┘ë Ïº┘äÏó┘èÏ®</label>
+                                                    <div className="relative">
+                                                        <input type="number" min="1" value={rangeEnd} onChange={e => setRangeEnd(e.target.value)} className="w-full bg-slate-800 border-2 border-slate-600 rounded-xl p-3 text-center text-white text-2xl font-black outline-none focus:border-indigo-500 transition-colors" />
+                                                    </div>
+                                                </div>
+                                            </motion.div>
+                                        )}
+
+                                        <div className="mt-auto">
+                                            <button
+                                                onClick={handleSurahConfirmed}
+                                                className={`w-full py-5 rounded-2xl font-black text-xl shadow-lg transform transition-all active:scale-[0.98] flex items-center justify-center gap-3
+                                                    ${intent === 'LEARN'
+                                                        ? 'bg-gradient-to-r from-indigo-500 to-indigo-700 text-white shadow-indigo-500/25 hover:shadow-indigo-500/40'
+                                                        : 'bg-gradient-to-r from-emerald-500 to-teal-600 text-white shadow-emerald-500/25 hover:shadow-emerald-500/40'
+                                                    }
+                                                `}
+                                            >
+                                                {intent === 'LEARN' ? 'Ïº┘äÏ¬Ïº┘ä┘è: ÏºÏ«Ï¬Ï▒ Ïº┘ä┘äÏ╣Ï¿Ï®' : 'ÏºÏ¿Ï»Ïú Ïº┘äÏ¬Ï│┘à┘èÏ╣ Ïº┘äÏó┘å'}
+                                                <div className="bg-white/20 rounded-full p-1">
+                                                    <ChevronRight size={20} className="rtl:rotate-180" />
+                                                </div>
+                                            </button>
+                                        </div>
+
+                                    </motion.div>
+                                ) : (
+                                    <div className="h-full flex flex-col items-center justify-center text-slate-500 py-12 opacity-60">
+                                        <div className="w-24 h-24 bg-slate-800 rounded-full flex items-center justify-center mb-4 animate-pulse">
+                                            <Search size={40} className="text-slate-600" />
+                                        </div>
+                                        <p className="font-bold text-lg">ÏºÏ¿Ï¡Ï½ Ï╣┘å Ï│┘êÏ▒Ï® ┘äÏ¬Ï¿Ï»Ïú Ïº┘ä┘àÏ║Ïº┘àÏ▒Ï®</p>
+                                    </div>
+                                )}
+                            </div>
+                        </motion.div>
+                    )}
+
+                    {/* --- STEP 3: SELECT MODE (GAME SELECTION) --- */}
+                    {step === 'SELECT_MODE' && (
+                        <motion.div
+                            key="select-mode"
+                            initial={{ opacity: 0, y: 20 }}
+                            animate={{ opacity: 1, y: 0 }}
+                            exit={{ opacity: 0, y: -20 }}
+                            className="flex-1 flex flex-col w-full max-w-6xl mx-auto my-4 px-4 font-cairo"
+                        >
+                            <div className="flex items-center gap-4 mb-6">
+                                <button onClick={goBack} className="bg-slate-800/80 p-3 rounded-full hover:bg-slate-700 hover:scale-110 transition-all border border-slate-700 shadow-lg text-white">
+                                    <ArrowLeft size={24} />
+                                </button>
+                                <div>
+                                    <h2 className="text-2xl md:text-3xl font-black text-white">
+                                        {intent === 'RECITATE' ? 'Ïº┘ä┘àÏºÏ│Ï¡ Ïº┘ä┘éÏ▒Ïó┘å┘è Ïº┘äÏ░┘â┘è' : (isTrainingMode ? '­ƒÅï´©ÅÔÇìÔÖé´©Å Ï¬Ï»Ï▒┘èÏ¿ Ï«ÏºÏÁ' : '­ƒÄ« ÏºÏ«Ï¬Ï▒ ┘êÏÂÏ╣ Ïº┘ä┘äÏ╣Ï¿')}
+                                    </h2>
+                                    <p className="text-slate-400 text-sm font-bold">
+                                        Ï│┘êÏ▒Ï® {selectedSurah}
+                                        {isTrainingMode && <span className="text-indigo-400 mx-2">({rangeStart}-{rangeEnd || 'end'})</span>}
+                                    </p>
                                 </div>
-                            </section>
+                            </div>
 
-                        </div>
-                    </motion.div>
-                )}
+                            {/* --- RECITATE INTENT DESIGN (Smart Scanner) --- */}
+                            {intent === 'RECITATE' ? (
+                                <div className="flex-1 flex flex-col items-center justify-center w-full max-w-4xl mx-auto min-h-[50vh]">
 
-            </AnimatePresence>
+                                    <div className="flex flex-col items-center text-center mb-12">
+                                        <div className="inline-flex items-center gap-2 px-4 py-2 bg-emerald-500/10 border border-emerald-500/30 rounded-full text-emerald-400 text-sm font-bold mb-6 animate-pulse">
+                                            <Activity size={16} />
+                                            <span>Ï¬Ï¡┘ä┘è┘ä ┘ü┘êÏ▒┘è Ï¿Ïº┘äÏ░┘âÏºÏí Ïº┘äÏºÏÁÏÀ┘åÏºÏ╣┘è</span>
+                                        </div>
+                                        <h2 className="text-xl text-indigo-400 font-bold mb-2">ÏºÏ«Ï¬Ï¿ÏºÏ▒: <span className="text-white">Ï│┘êÏ▒Ï® {selectedSurah}</span></h2>
+                                        <h1 className="text-4xl md:text-6xl font-black text-white mt-2 leading-tight">
+                                            ┘â┘è┘ü Ï¬Ï▒┘èÏ» Ïú┘å <span className="text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-500">Ï¬┘ÅÏ│┘à┘æÏ╣Ïƒ</span>
+                                        </h1>
+                                    </div>
 
+                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-8 w-full max-w-3xl">
+                                        {/* Card 1: Typing (Mapped to Classic/Bridge for now) */}
+                                        <button
+                                            onClick={() => onStartGame(selectedSurah, rangeStart, rangeEnd ? parseInt(rangeEnd) : undefined, 'CLASSIC')}
+                                            className="bg-slate-800/50 hover:bg-slate-800 border-2 border-slate-700 hover:border-purple-500 rounded-[2.5rem] p-8 aspect-[4/3] flex flex-col items-center justify-center gap-6 group transition-all hover:scale-[1.02] shadow-2xl"
+                                        >
+                                            <div className="w-24 h-24 bg-purple-500/10 rounded-full flex items-center justify-center group-hover:bg-purple-500 group-hover:scale-110 transition-all duration-300 border border-purple-500/20 group-hover:border-purple-500 shadow-[0_0_30px_rgba(168,85,247,0.15)]">
+                                                <Keyboard size={40} className="text-purple-400 group-hover:text-white transition-colors" />
+                                            </div>
+                                            <div className="text-center">
+                                                <h3 className="text-2xl font-black text-white mb-2 group-hover:text-purple-300 transition-colors">┘âÏ¬ÏºÏ¿Ï® Ïº┘ä┘åÏÁ</h3>
+                                                <p className="text-slate-400 text-sm font-medium group-hover:text-slate-300">Ïº┘âÏ¬Ï¿ Ïº┘äÏó┘èÏºÏ¬ Ïº┘äÏ¬┘è Ï¬Ï¡┘üÏ©┘çÏº Ï║┘èÏ¿Ïº┘ï</p>
+                                            </div>
+                                        </button>
+
+                                        {/* Card 2: Voice */}
+                                        <button
+                                            onClick={() => onStartDiagnostic(selectedSurah, rangeStart, rangeEnd ? parseInt(rangeEnd) : undefined)}
+                                            className="bg-slate-800/50 hover:bg-slate-800 border-2 border-slate-700 hover:border-cyan-500 rounded-[2.5rem] p-8 aspect-[4/3] flex flex-col items-center justify-center gap-6 group transition-all hover:scale-[1.02] shadow-2xl"
+                                        >
+                                            <div className="w-24 h-24 bg-cyan-500/10 rounded-full flex items-center justify-center group-hover:bg-cyan-500 group-hover:scale-110 transition-all duration-300 border border-cyan-500/20 group-hover:border-cyan-500 shadow-[0_0_30px_rgba(6,182,212,0.15)]">
+                                                <Mic size={40} className="text-cyan-400 group-hover:text-white transition-colors" />
+                                            </div>
+                                            <div className="text-center">
+                                                <h3 className="text-2xl font-black text-white mb-2 group-hover:text-cyan-300 transition-colors">Ï¬┘äÏº┘êÏ® ÏÁ┘êÏ¬┘èÏ®</h3>
+                                                <p className="text-slate-400 text-sm font-medium group-hover:text-slate-300">Ïº┘éÏ▒Ïú Ï¿ÏÁ┘êÏ¬┘â ┘êÏ│ÏúÏÁÏ¡Ï¡ ┘ä┘â Ïº┘äÏúÏ«ÏÀÏºÏí</p>
+                                            </div>
+                                        </button>
+                                    </div>
+                                </div>
+                            ) : (
+                                /* --- STANDARD GAME SELECTION --- */
+                                <>
+                                    {isTrainingMode && (
+
+                                        <div className="mb-6 bg-emerald-900/30 border border-emerald-500/30 p-4 rounded-2xl flex items-center gap-4 shadow-[0_0_20px_rgba(16,185,129,0.1)]">
+                                            <div className="bg-emerald-500/20 p-2 rounded-full animate-pulse">
+                                                <Target className="text-emerald-400 w-6 h-6" />
+                                            </div>
+                                            <div>
+                                                <h3 className="font-black text-emerald-400 text-base">Ï¬┘à ÏÂÏ¿ÏÀ Ïº┘ä┘à┘ç┘àÏ®: Ï¬Ï▒┘â┘èÏ▓ Ï╣┘ä┘ë Ïº┘äÏúÏ«ÏÀÏºÏí</h3>
+                                                <p className="text-sm text-emerald-200/70">Ïº┘äÏú┘äÏ╣ÏºÏ¿ Ï│Ï¬Ï▒┘âÏ▓ Ïº┘äÏó┘å Ï╣┘ä┘ë Ïº┘äÏó┘èÏºÏ¬ Ïº┘äÏ¬┘è Ï¬Ï¡Ï¬ÏºÏ¼ ÏÑ┘ä┘ë Ï¬Ï¡Ï│┘è┘å.</p>
+                                            </div>
+                                        </div>
+                                    )}
+
+                                    <div className="flex-1 overflow-y-auto pb-8 space-y-8 custom-scrollbar">
+
+                                        {/* PRIMARY MODES (Hero Cards) */}
+                                        <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
+                                            {/* CARD 1: CORE MEMORIZER */}
+                                            <button
+                                                onClick={() => handleGameStart('LEARN')}
+                                                className="relative overflow-hidden bg-gradient-to-br from-slate-800 to-slate-900 border-2 border-indigo-500/30 hover:border-indigo-400 p-8 rounded-[2rem] text-right group shadow-lg flex flex-col justify-between min-h-[220px] transition-all hover:-translate-y-1 hover:shadow-indigo-500/20"
+                                            >
+                                                <div className="absolute top-0 right-0 w-full h-full bg-[radial-gradient(circle_at_100%_0%,_rgba(99,102,241,0.1),_transparent_60%)]"></div>
+
+                                                <div className="relative z-10">
+                                                    <div className="flex justify-between items-start mb-4">
+                                                        <div className="bg-indigo-500/20 p-3 rounded-2xl group-hover:bg-indigo-500 group-hover:text-white transition-colors duration-300">
+                                                            <Mic className="w-8 h-8 text-indigo-400 group-hover:text-white" />
+                                                        </div>
+                                                        <span className="bg-indigo-500/10 text-indigo-300 px-3 py-1 rounded-full text-xs font-bold border border-indigo-500/20">ÏúÏ│ÏºÏ│┘è</span>
+                                                    </div>
+                                                    <h4 className="text-3xl font-black text-white mb-2 group-hover:text-indigo-300 transition-colors">Ïº┘ä┘àÏ¡┘üÏ© Ïº┘äÏ░┘â┘è</h4>
+                                                    <p className="text-slate-400 text-sm md:text-base font-medium leading-relaxed max-w-xs ml-auto">
+                                                        ┘åÏ©Ïº┘à Ïº┘äÏ¬┘ä┘é┘è┘å Ïº┘äÏ░┘â┘è Ïº┘äÏ░┘è ┘èÏ«┘ü┘è Ïº┘ä┘â┘ä┘àÏºÏ¬ Ï¬Ï»Ï▒┘èÏ¼┘èÏº┘ï ┘ê┘èÏ│┘àÏ╣ ┘ä┘â.
+                                                    </p>
+                                                </div>
+                                            </button>
+
+                                            {/* CARD 2: VERSE BRIDGE */}
+                                            <button
+                                                onClick={() => handleGameStart('CLASSIC')}
+                                                className="relative overflow-hidden bg-gradient-to-br from-slate-800 to-slate-900 border-2 border-cyan-500/30 hover:border-cyan-400 p-8 rounded-[2rem] text-right group shadow-lg flex flex-col justify-between min-h-[220px] transition-all hover:-translate-y-1 hover:shadow-cyan-500/20"
+                                            >
+                                                <div className="absolute top-0 right-0 w-full h-full bg-[radial-gradient(circle_at_0%_0%,_rgba(6,182,212,0.1),_transparent_60%)]"></div>
+
+                                                <div className="relative z-10">
+                                                    <div className="flex justify-between items-start mb-4">
+                                                        <div className="bg-cyan-500/20 p-3 rounded-2xl group-hover:bg-cyan-500 group-hover:text-white transition-colors duration-300">
+                                                            <Zap className="w-8 h-8 text-cyan-400 group-hover:text-white" />
+                                                        </div>
+                                                        <span className="bg-cyan-500/10 text-cyan-300 px-3 py-1 rounded-full text-xs font-bold border border-cyan-500/20">Ï│Ï▒┘èÏ╣</span>
+                                                    </div>
+                                                    <h4 className="text-3xl font-black text-white mb-2 group-hover:text-cyan-300 transition-colors">Ï¼Ï│Ï▒ Ïº┘äÏó┘èÏºÏ¬</h4>
+                                                    <p className="text-slate-400 text-sm md:text-base font-medium leading-relaxed max-w-xs ml-auto">
+                                                        ÏºÏ«Ï¬Ï¿Ï▒ Ï│Ï▒Ï╣Ï® Ï¡┘üÏ©┘â Ï¿ÏÑ┘â┘àÏº┘ä Ïº┘äÏó┘èÏºÏ¬ Ïº┘ä┘åÏº┘éÏÁÏ® ┘ü┘è ┘ê┘éÏ¬ ┘é┘èÏºÏ│┘è.
+                                                    </p>
+                                                </div>
+                                            </button>
+                                        </div>
+
+                                        {/* SECTION: ASSESSMENT (QUIZ) */}
+                                        <button
+                                            onClick={() => handleGameStart('QUIZ')}
+                                            className="w-full bg-gradient-to-r from-slate-800 to-slate-900 border border-yellow-500/30 p-6 rounded-[1.5rem] hover:bg-slate-800 transition-all text-right group shadow-lg flex items-center justify-between relative overflow-hidden"
+                                        >
+                                            <div className="absolute left-0 top-0 h-full w-2 bg-yellow-500"></div>
+                                            <div className="flex items-center gap-6 relative z-10">
+                                                <div className="bg-yellow-500/20 p-4 rounded-2xl">
+                                                    <Brain className="text-yellow-400 w-8 h-8" />
+                                                </div>
+                                                <div>
+                                                    <h4 className="text-2xl font-black text-white group-hover:text-yellow-400 transition-colors">Ïº┘äÏ¬Ï¡Ï»┘è Ïº┘äÏ░┘â┘è (Quiz)</h4>
+                                                    <p className="text-slate-400 text-sm font-medium mt-1">Ïú┘äÏ║ÏºÏ▓ Ï¬Ï»Ï¿Ï▒┘èÏ®Ïî ┘àÏ╣Ïº┘å┘è ┘â┘ä┘àÏºÏ¬Ïî ┘êÏºÏ«Ï¬Ï¿ÏºÏ▒ÏºÏ¬ ┘ü┘ç┘à Ï╣┘à┘è┘é.</p>
+                                                </div>
+                                            </div>
+                                            <ChevronRight className="text-slate-600 group-hover:text-yellow-400 rtl:rotate-180 w-8 h-8 transition-colors" />
+                                        </button>
+
+                                        {/* SECTION: ARCADE MINI-GAMES */}
+                                        <div>
+                                            <div className="flex items-center gap-3 mb-6 text-slate-400 border-b border-slate-700 pb-4">
+                                                <Gamepad2 size={24} className="text-purple-400" />
+                                                <h3 className="font-black text-lg text-white">Ïú┘äÏ╣ÏºÏ¿ Ïº┘äÏóÏ▒┘â┘èÏ» (┘ä┘äÏ¬Ï▒┘ü┘è┘ç)</h3>
+                                            </div>
+                                            <div className="grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6">
+                                                <GameCard
+                                                    title="Ï¬Ï▒Ï¬┘èÏ¿ Ïº┘äÏó┘èÏºÏ¬"
+                                                    desc="┘äÏ║Ï▓ Ï¿ÏÁÏ▒┘è"
+                                                    icon={<Puzzle size={24} />}
+                                                    color="purple"
+                                                    onClick={() => handleGameStart('ASSEMBLY')}
+                                                />
+                                                <GameCard
+                                                    title="┘àÏ¬Ï▓┘äÏ¼ Ïº┘ä┘â┘ä┘àÏºÏ¬"
+                                                    desc="Ïº┘äÏ¬┘éÏÀ Ïº┘ä┘â┘ä┘àÏºÏ¬"
+                                                    icon={<Waves size={24} />}
+                                                    color="blue"
+                                                    onClick={() => handleGameStart('SURF')}
+                                                />
+                                                <GameCard
+                                                    title="Ï¿Ï▒Ï¼ Ïº┘äÏ¡┘üÏ©"
+                                                    desc="ÏºÏ¿┘å┘É Ïº┘ä┘â┘ä┘àÏºÏ¬"
+                                                    icon={<Layers size={24} />}
+                                                    color="emerald"
+                                                    onClick={() => handleGameStart('STACK')}
+                                                />
+                                                <GameCard
+                                                    title="Ïº┘ä┘åÏºÏ¼┘è Ïº┘äÏúÏ«┘èÏ▒"
+                                                    desc="Ï»Ïº┘üÏ╣ Ï╣┘å Ïº┘ä┘éÏ▒Ïó┘å"
+                                                    icon={<Ghost size={24} />}
+                                                    color="red"
+                                                    onClick={() => handleGameStart('SURVIVOR')}
+                                                />
+                                            </div>
+                                        </div>
+
+                                    </div>
+                                </>
+                            )}
+                        </motion.div>
+                    )}
+
+                </AnimatePresence>
+
+            </div>
         </div>
-    </div>
-  );
+    );
 };
 
-const GameCard: React.FC<{title: string, desc: string, icon: React.ReactNode, color: string, onClick: () => void}> = ({ title, desc, icon, color, onClick }) => {
-    const colorClasses: any = {
-        cyan: "border-arcade-cyan hover:shadow-cyan-500/20 text-arcade-cyan",
-        purple: "border-arcade-purple hover:shadow-purple-500/20 text-arcade-purple",
-        blue: "border-blue-500 hover:shadow-blue-500/20 text-blue-400",
-        emerald: "border-emerald-500 hover:shadow-emerald-500/20 text-emerald-400",
-        red: "border-red-500 hover:shadow-red-500/20 text-red-400",
+const GameCard: React.FC<{ title: string, desc: string, icon: React.ReactNode, color: string, onClick: () => void }> = ({ title, desc, icon, color, onClick }) => {
+    const colorMap: Record<string, { border: string, text: string, hover: string }> = {
+        cyan: { border: 'border-arcade-cyan', text: 'text-arcade-cyan', hover: 'hover:shadow-cyan-500/20' },
+        purple: { border: 'border-arcade-purple', text: 'text-arcade-purple', hover: 'hover:shadow-purple-500/20' },
+        blue: { border: 'border-blue-500', text: 'text-blue-400', hover: 'hover:shadow-blue-500/20' },
+        emerald: { border: 'border-emerald-500', text: 'text-emerald-400', hover: 'hover:shadow-emerald-500/20' },
+        red: { border: 'border-red-500', text: 'text-red-400', hover: 'hover:shadow-red-500/20' },
     };
+    const c = colorMap[color] || colorMap.cyan;
 
     return (
-        <button 
+        <button
             onClick={onClick}
-            className={`bg-slate-800 border-2 ${colorClasses[color].split(' ')[0]} p-3 rounded-2xl text-center hover:-translate-y-1 transition-all hover:shadow-lg group flex flex-col items-center gap-2 h-full justify-between`}
+            className={`bg-slate-800 border-2 ${c.border} ${c.hover} p-4 rounded-2xl text-center hover:-translate-y-1 transition-all hover:shadow-lg group flex flex-col items-center gap-3 h-full justify-between min-h-[5rem]`}
         >
-            <div className={`p-2 rounded-lg bg-slate-900 ${colorClasses[color].split(' ').pop()}`}>
+            <div className={`p-2.5 rounded-xl bg-slate-900/80 ${c.text}`}>
                 {icon}
             </div>
             <div>
                 <h4 className="font-bold text-white text-sm group-hover:text-white transition-colors">{title}</h4>
-                <p className="text-slate-500 text-[10px] hidden md:block">{desc}</p>
+                <p className="text-slate-500 text-[11px]">{desc}</p>
             </div>
         </button>
     );

commit 648b429548e243d5489eef1b2e74b6d78d8e4647
Author: anasabouelala <67022875+anasabouelala@users.noreply.github.com>
Date:   Thu Feb 5 22:23:17 2026 +0100

    feat: Initialize Hifz Quest arcade project
    
    Sets up the project structure, dependencies, and basic configuration for the Hifz Quest: Arcade Edition application. Includes Vite configuration, TypeScript setup, initial HTML structure with Tailwind CSS and custom fonts, and basic app entry point with error boundary. Also, adds project metadata and defines core game types.

diff --git a/components/screens/MainMenu.tsx b/components/screens/MainMenu.tsx
new file mode 100644
index 0000000..43d416c
--- /dev/null
+++ b/components/screens/MainMenu.tsx
@@ -0,0 +1,512 @@
+
+
+import React, { useState, useEffect, useRef } from 'react';
+import { Play, Search, Activity, ChevronRight, Brain, Gamepad2, GraduationCap, Mic, Layers, Waves, Ghost, Puzzle, Zap, ArrowLeft, BookOpen, Target, LayoutDashboard } from 'lucide-react';
+import { ArcadeButton } from '../ui/ArcadeButton';
+import { motion, AnimatePresence } from 'framer-motion';
+import { GameMode } from '../../types';
+
+interface MenuState {
+  step: 'SELECT_MODE';
+  surah: string;
+  range: { start: number, end?: number };
+}
+
+interface Props {
+  onStartGame: (surah: string, startVerse?: number, endVerse?: number, mode?: GameMode, config?: any) => void;
+  onStartDiagnostic: (surah: string) => void;
+  onOpenDashboard: () => void;
+  initialState?: MenuState;
+}
+
+const QURAN_SURAHS = [
+  "Ïº┘ä┘üÏºÏ¬Ï¡Ï®", "Ïº┘äÏ¿┘éÏ▒Ï®", "Ïó┘ä Ï╣┘àÏ▒Ïº┘å", "Ïº┘ä┘åÏ│ÏºÏí", "Ïº┘ä┘àÏºÏªÏ»Ï®", "Ïº┘äÏú┘åÏ╣Ïº┘à", "Ïº┘äÏúÏ╣Ï▒Ïº┘ü", "Ïº┘äÏú┘å┘üÏº┘ä", "Ïº┘äÏ¬┘êÏ¿Ï®", "┘è┘ê┘åÏ│",
+  "┘ç┘êÏ»", "┘è┘êÏ│┘ü", "Ïº┘äÏ▒Ï╣Ï»", "ÏÑÏ¿Ï▒Ïº┘ç┘è┘à", "Ïº┘äÏ¡Ï¼Ï▒", "Ïº┘ä┘åÏ¡┘ä", "Ïº┘äÏÑÏ│Ï▒ÏºÏí", "Ïº┘ä┘â┘ç┘ü", "┘àÏ▒┘è┘à", "ÏÀ┘ç",
+  "Ïº┘äÏú┘åÏ¿┘èÏºÏí", "Ïº┘äÏ¡Ï¼", "Ïº┘ä┘àÏñ┘à┘å┘ê┘å", "Ïº┘ä┘å┘êÏ▒", "Ïº┘ä┘üÏ▒┘éÏº┘å", "Ïº┘äÏ┤Ï╣Ï▒ÏºÏí", "Ïº┘ä┘å┘à┘ä", "Ïº┘ä┘éÏÁÏÁ", "Ïº┘äÏ╣┘å┘âÏ¿┘êÏ¬", "Ïº┘äÏ▒┘ê┘à",
+  "┘ä┘é┘àÏº┘å", "Ïº┘äÏ│Ï¼Ï»Ï®", "Ïº┘äÏúÏ¡Ï▓ÏºÏ¿", "Ï│Ï¿Ïú", "┘üÏºÏÀÏ▒", "┘èÏ│", "Ïº┘äÏÁÏº┘üÏºÏ¬", "ÏÁ", "Ïº┘äÏ▓┘àÏ▒", "Ï║Ïº┘üÏ▒",
+  "┘üÏÁ┘äÏ¬", "Ïº┘äÏ┤┘êÏ▒┘ë", "Ïº┘äÏ▓Ï«Ï▒┘ü", "Ïº┘äÏ»Ï«Ïº┘å", "Ïº┘äÏ¼ÏºÏ½┘èÏ®", "Ïº┘äÏúÏ¡┘éÏº┘ü", "┘àÏ¡┘àÏ»", "Ïº┘ä┘üÏ¬Ï¡", "Ïº┘äÏ¡Ï¼Ï▒ÏºÏ¬", "┘é",
+  "Ïº┘äÏ░ÏºÏ▒┘èÏºÏ¬", "Ïº┘äÏÀ┘êÏ▒", "Ïº┘ä┘åÏ¼┘à", "Ïº┘ä┘é┘àÏ▒", "Ïº┘äÏ▒Ï¡┘à┘å", "Ïº┘ä┘êÏº┘éÏ╣Ï®", "Ïº┘äÏ¡Ï»┘èÏ»", "Ïº┘ä┘àÏ¼ÏºÏ»┘äÏ®", "Ïº┘äÏ¡Ï┤Ï▒", "Ïº┘ä┘à┘àÏ¬Ï¡┘åÏ®",
+  "Ïº┘äÏÁ┘ü", "Ïº┘äÏ¼┘àÏ╣Ï®", "Ïº┘ä┘à┘åÏº┘ü┘é┘ê┘å", "Ïº┘äÏ¬Ï║ÏºÏ¿┘å", "Ïº┘äÏÀ┘äÏº┘é", "Ïº┘äÏ¬Ï¡Ï▒┘è┘à", "Ïº┘ä┘à┘ä┘â", "Ïº┘ä┘é┘ä┘à", "Ïº┘äÏ¡Ïº┘éÏ®", "Ïº┘ä┘àÏ╣ÏºÏ▒Ï¼",
+  "┘å┘êÏ¡", "Ïº┘äÏ¼┘å", "Ïº┘ä┘àÏ▓┘à┘ä", "Ïº┘ä┘àÏ»Ï½Ï▒", "Ïº┘ä┘é┘èÏº┘àÏ®", "Ïº┘äÏÑ┘åÏ│Ïº┘å", "Ïº┘ä┘àÏ▒Ï│┘äÏºÏ¬", "Ïº┘ä┘åÏ¿Ïú", "Ïº┘ä┘åÏºÏ▓Ï╣ÏºÏ¬", "Ï╣Ï¿Ï│",
+  "Ïº┘äÏ¬┘â┘ê┘èÏ▒", "Ïº┘äÏº┘å┘üÏÀÏºÏ▒", "Ïº┘ä┘àÏÀ┘ü┘ü┘è┘å", "Ïº┘äÏº┘åÏ┤┘éÏº┘é", "Ïº┘äÏ¿Ï▒┘êÏ¼", "Ïº┘äÏÀÏºÏ▒┘é", "Ïº┘äÏúÏ╣┘ä┘ë", "Ïº┘äÏ║ÏºÏ┤┘èÏ®", "Ïº┘ä┘üÏ¼Ï▒", "Ïº┘äÏ¿┘äÏ»",
+  "Ïº┘äÏ┤┘àÏ│", "Ïº┘ä┘ä┘è┘ä", "Ïº┘äÏÂÏ¡┘ë", "Ïº┘äÏ┤Ï▒Ï¡", "Ïº┘äÏ¬┘è┘å", "Ïº┘äÏ╣┘ä┘é", "Ïº┘ä┘éÏ»Ï▒", "Ïº┘äÏ¿┘è┘åÏ®", "Ïº┘äÏ▓┘äÏ▓┘äÏ®", "Ïº┘äÏ╣ÏºÏ»┘èÏºÏ¬",
+  "Ïº┘ä┘éÏºÏ▒Ï╣Ï®", "Ïº┘äÏ¬┘âÏºÏ½Ï▒", "Ïº┘äÏ╣ÏÁÏ▒", "Ïº┘ä┘ç┘àÏ▓Ï®", "Ïº┘ä┘ü┘è┘ä", "┘éÏ▒┘èÏ┤", "Ïº┘ä┘àÏºÏ╣┘ê┘å", "Ïº┘ä┘â┘êÏ½Ï▒", "Ïº┘ä┘âÏº┘üÏ▒┘ê┘å", "Ïº┘ä┘åÏÁÏ▒",
+  "Ïº┘ä┘àÏ│Ï»", "Ïº┘äÏÑÏ«┘äÏºÏÁ", "Ïº┘ä┘ü┘ä┘é", "Ïº┘ä┘åÏºÏ│"
+];
+
+const levenshtein = (a: string, b: string): number => {
+  const matrix = [];
+  for (let i = 0; i <= b.length; i++) matrix[i] = [i];
+  for (let j = 0; j <= a.length; j++) matrix[0][j] = j;
+  for (let i = 1; i <= b.length; i++) {
+    for (let j = 1; j <= a.length; j++) {
+      if (b.charAt(i - 1) === a.charAt(j - 1)) {
+        matrix[i][j] = matrix[i - 1][j - 1];
+      } else {
+        matrix[i][j] = Math.min(matrix[i - 1][j - 1] + 1, matrix[i][j - 1] + 1, matrix[i - 1][j] + 1);
+      }
+    }
+  }
+  return matrix[b.length][a.length];
+};
+
+type MenuStep = 'HOME' | 'SELECT_SURAH' | 'SELECT_MODE';
+type Intent = 'LEARN' | 'RECITATE' | null;
+
+export const MainMenu: React.FC<Props> = ({ onStartGame, onStartDiagnostic, onOpenDashboard, initialState }) => {
+  const [step, setStep] = useState<MenuStep>('HOME');
+  const [intent, setIntent] = useState<Intent>(null);
+  
+  // Selection State
+  const [searchTerm, setSearchTerm] = useState("");
+  const [showSuggestions, setShowSuggestions] = useState(false);
+  const [selectedSurah, setSelectedSurah] = useState("");
+  const [verseMode, setVerseMode] = useState<'FULL' | 'RANGE'>('FULL');
+  const [rangeStart, setRangeStart] = useState<number | string>(1);
+  const [rangeEnd, setRangeEnd] = useState<number | string>(10);
+  
+  // If we came from a diagnostic, we are in "Training Mode"
+  const [isTrainingMode, setIsTrainingMode] = useState(false);
+
+  const suggestionsRef = useRef<HTMLDivElement>(null);
+
+  useEffect(() => {
+    // Handle deep link state from props
+    if (initialState) {
+        setStep(initialState.step);
+        setSelectedSurah(initialState.surah);
+        setRangeStart(initialState.range.start);
+        if (initialState.range.end) {
+            setRangeEnd(initialState.range.end);
+            setVerseMode('RANGE');
+        } else {
+            setVerseMode('FULL');
+        }
+        setIntent('LEARN');
+        setIsTrainingMode(true);
+    }
+  }, [initialState]);
+
+  useEffect(() => {
+    const handleClickOutside = (event: MouseEvent) => {
+      if (suggestionsRef.current && !suggestionsRef.current.contains(event.target as Node)) {
+        setShowSuggestions(false);
+      }
+    };
+    document.addEventListener("mousedown", handleClickOutside);
+    return () => document.removeEventListener("mousedown", handleClickOutside);
+  }, []);
+
+  const getSuggestions = () => {
+    if (!searchTerm) return [];
+    const exactMatches = QURAN_SURAHS.filter(s => s.includes(searchTerm));
+    if (exactMatches.length > 0) return exactMatches;
+    return QURAN_SURAHS
+      .map(s => ({ name: s, dist: levenshtein(s, searchTerm) }))
+      .filter(item => item.dist <= 2)
+      .sort((a, b) => a.dist - b.dist)
+      .map(item => item.name)
+      .slice(0, 3);
+  };
+
+  const handleSelectSurah = (surah: string) => {
+    setSelectedSurah(surah);
+    setSearchTerm(surah);
+    setShowSuggestions(false);
+  };
+
+  const handleActionSelect = (selectedIntent: Intent) => {
+      setIntent(selectedIntent);
+      setStep('SELECT_SURAH');
+  };
+
+  const handleSurahConfirmed = () => {
+      if (!selectedSurah) return;
+
+      if (intent === 'RECITATE') {
+          // Direct Action: Start Diagnostic
+          onStartDiagnostic(selectedSurah);
+      } else {
+          // Go to Mode Selection for Learning
+          setStep('SELECT_MODE');
+      }
+  };
+
+  const handleGameStart = (mode: GameMode) => {
+      const start = parseInt(rangeStart.toString()) || 1;
+      const end = parseInt(rangeEnd.toString()) || 10;
+      const finalEnd = verseMode === 'RANGE' ? end : undefined;
+      
+      const config = mode === 'LEARN' ? { inputMode: 'AUDIO' } : {};
+      onStartGame(selectedSurah, start, finalEnd, mode, config);
+  };
+
+  const goBack = () => {
+      if (isTrainingMode) {
+          // If in training mode (from diagnostic), back goes home
+          setStep('HOME');
+          setIntent(null);
+          setSelectedSurah("");
+          setIsTrainingMode(false);
+          return;
+      }
+
+      if (step === 'SELECT_MODE') setStep('SELECT_SURAH');
+      else if (step === 'SELECT_SURAH') {
+          setStep('HOME');
+          setIntent(null);
+          setSelectedSurah("");
+          setSearchTerm("");
+      }
+  };
+
+  return (
+    <div className="flex flex-col items-center min-h-screen bg-slate-900 overflow-hidden relative font-sans">
+        {/* Animated Background */}
+        <div className="absolute inset-0 bg-[url('https://picsum.photos/1920/1080?blur=5')] bg-cover bg-center opacity-20 z-0"></div>
+        <div className="absolute inset-0 bg-gradient-to-b from-slate-900/90 via-slate-900/95 to-slate-900 z-0"></div>
+        
+        <div className="relative z-10 w-full max-w-4xl flex flex-col h-full p-4 md:p-6 overflow-y-auto">
+            
+            {/* Header */}
+            <motion.header 
+                initial={{ y: -50, opacity: 0 }}
+                animate={{ y: 0, opacity: 1 }}
+                className="text-center py-4 md:py-6 shrink-0 relative"
+            >
+                <div className="inline-block bg-slate-800/50 backdrop-blur rounded-full px-4 py-1 border border-slate-700 mb-2">
+                    <span className="text-arcade-cyan text-xs font-arcade tracking-widest">HIFZ QUEST</span>
+                </div>
+                <h1 className="text-4xl md:text-5xl font-arcade text-transparent bg-clip-text bg-gradient-to-b from-white to-slate-400 drop-shadow-sm animate-[pulse_3s_infinite]">
+                    Ï▒Ï¡┘äÏ® Ïº┘äÏ¡┘üÏ©
+                </h1>
+                
+                {/* Dashboard Button */}
+                {step === 'HOME' && (
+                    <div className="absolute top-4 right-0 md:right-4">
+                        <button 
+                            onClick={onOpenDashboard}
+                            className="bg-slate-800 hover:bg-slate-700 border border-slate-600 rounded-full p-3 transition-colors text-arcade-cyan shadow-lg hover:shadow-cyan-500/20 active:scale-95"
+                        >
+                            <LayoutDashboard size={24} />
+                        </button>
+                    </div>
+                )}
+            </motion.header>
+
+            <AnimatePresence mode='wait'>
+                
+                {/* --- STEP 1: HOME (CHOOSE ACTION) --- */}
+                {step === 'HOME' && (
+                    <motion.div 
+                        key="home"
+                        initial={{ opacity: 0, scale: 0.95 }}
+                        animate={{ opacity: 1, scale: 1 }}
+                        exit={{ opacity: 0, scale: 0.95 }}
+                        className="grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6 flex-1 items-center justify-center max-w-3xl mx-auto w-full py-4"
+                    >
+                        {/* ACTION: LEARN */}
+                        <button 
+                            onClick={() => handleActionSelect('LEARN')}
+                            className="min-h-[16rem] h-auto bg-gradient-to-br from-indigo-900/60 to-slate-900 border-2 border-indigo-500/30 hover:border-indigo-400 rounded-[2rem] p-6 flex flex-col items-center justify-center text-center gap-4 group transition-all hover:scale-105 hover:shadow-[0_0_30px_rgba(99,102,241,0.2)]"
+                        >
+                            <div className="w-20 h-20 md:w-24 md:h-24 bg-indigo-500/20 rounded-full flex items-center justify-center group-hover:bg-indigo-500/30 transition-colors border-2 border-indigo-500/20 group-hover:border-indigo-400">
+                                <BookOpen className="w-10 h-10 md:w-12 md:h-12 text-indigo-300" />
+                            </div>
+                            <div>
+                                <h2 className="text-2xl md:text-3xl font-bold text-white mb-2 font-arcade">Ï¬Ï╣┘ä┘à ┘êÏº┘äÏ╣Ï¿</h2>
+                                <p className="text-slate-400 text-sm">Ï¡┘üÏ© Ï¼Ï»┘èÏ»Ïî ┘àÏ▒ÏºÏ¼Ï╣Ï®Ïî Ïú┘äÏ╣ÏºÏ¿ Ï¬┘üÏºÏ╣┘ä┘èÏ®</p>
+                            </div>
+                        </button>
+
+                        {/* ACTION: RECITATE */}
+                        <button 
+                            onClick={() => handleActionSelect('RECITATE')}
+                            className="min-h-[16rem] h-auto bg-gradient-to-br from-emerald-900/60 to-slate-900 border-2 border-emerald-500/30 hover:border-emerald-400 rounded-[2rem] p-6 flex flex-col items-center justify-center text-center gap-4 group transition-all hover:scale-105 hover:shadow-[0_0_30px_rgba(16,185,129,0.2)]"
+                        >
+                            <div className="w-20 h-20 md:w-24 md:h-24 bg-emerald-500/20 rounded-full flex items-center justify-center group-hover:bg-emerald-500/30 transition-colors border-2 border-emerald-500/20 group-hover:border-emerald-400">
+                                <Mic className="w-10 h-10 md:w-12 md:h-12 text-emerald-300" />
+                            </div>
+                            <div>
+                                <h2 className="text-2xl md:text-3xl font-bold text-white mb-2 font-arcade">Ï¬Ï│┘à┘èÏ╣</h2>
+                                <p className="text-slate-400 text-sm">ÏºÏ«Ï¬Ï¿ÏºÏ▒ Ïº┘äÏ¬┘äÏº┘êÏ® ┘êÏº┘äÏ¬Ï¡┘é┘é ┘à┘å Ïº┘äÏ¡┘üÏ©</p>
+                            </div>
+                        </button>
+                    </motion.div>
+                )}
+
+                {/* --- STEP 2: SELECT SURAH --- */}
+                {step === 'SELECT_SURAH' && (
+                     <motion.div
+                        key="select-surah"
+                        initial={{ opacity: 0, x: 100 }}
+                        animate={{ opacity: 1, x: 0 }}
+                        exit={{ opacity: 0, x: -100 }}
+                        className="flex-1 flex flex-col bg-slate-800/80 backdrop-blur-md border border-slate-700 rounded-3xl p-6 shadow-xl max-w-2xl mx-auto w-full my-4"
+                     >
+                        <div className="flex items-center gap-4 mb-8">
+                            <button onClick={goBack} className="bg-slate-700 p-2 rounded-lg hover:bg-slate-600 transition-colors">
+                                <ArrowLeft size={20} />
+                            </button>
+                            <div>
+                                <h2 className="text-xl md:text-2xl font-bold text-white font-arcade">
+                                    {intent === 'LEARN' ? '┘àÏºÏ░Ïº Ï¬Ï▒┘èÏ» Ïú┘å Ï¬Ï¡┘üÏ©Ïƒ' : '┘àÏºÏ░Ïº Ï¬Ï▒┘èÏ» Ïú┘å Ï¬┘ÅÏ│┘à┘æÏ╣Ïƒ'}
+                                </h2>
+                                <p className="text-xs text-slate-400">ÏºÏ«Ï¬Ï▒ Ïº┘äÏ│┘êÏ▒Ï® ┘äÏ¬┘â┘à┘ä</p>
+                            </div>
+                        </div>
+
+                        {/* Search Input */}
+                        <div className="relative mb-6" ref={suggestionsRef}>
+                            <div className="relative">
+                                <input 
+                                    type="text" 
+                                    value={searchTerm}
+                                    onChange={(e) => {
+                                        setSearchTerm(e.target.value);
+                                        setSelectedSurah(""); 
+                                        setShowSuggestions(true);
+                                    }}
+                                    onFocus={() => setShowSuggestions(true)}
+                                    placeholder="ÏºÏ¿Ï¡Ï½ Ï╣┘å Ïº┘äÏ│┘êÏ▒Ï®..."
+                                    className="w-full bg-slate-900/80 border-2 border-slate-600 rounded-2xl py-4 pl-4 pr-12 text-white font-sans text-lg focus:border-arcade-cyan focus:outline-none transition-all placeholder:text-slate-500 text-right"
+                                />
+                                <Search className="absolute right-4 top-4.5 w-6 h-6 text-slate-400" />
+                            </div>
+
+                            <AnimatePresence>
+                                {showSuggestions && searchTerm && (
+                                    <motion.div 
+                                        initial={{ opacity: 0, y: -10 }}
+                                        animate={{ opacity: 1, y: 0 }}
+                                        exit={{ opacity: 0, y: -10 }}
+                                        className="absolute z-50 w-full mt-2 bg-slate-800 border border-slate-600 rounded-xl shadow-2xl overflow-hidden max-h-40 overflow-y-auto"
+                                    >
+                                        {getSuggestions().map((s) => (
+                                            <button key={s} onClick={() => handleSelectSurah(s)} className="w-full text-right px-4 py-3 text-white hover:bg-slate-700 border-b border-slate-700/50 last:border-0 font-bold">
+                                                {s}
+                                            </button>
+                                        ))}
+                                    </motion.div>
+                                )}
+                            </AnimatePresence>
+                        </div>
+
+                        {/* Range Selection */}
+                        <div className="flex-1">
+                            {selectedSurah ? (
+                                <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} className="space-y-6">
+                                     <div className="bg-slate-900/50 p-4 rounded-xl border border-slate-700 flex justify-between items-center">
+                                        <span className="text-slate-400 text-xs">Ïº┘äÏ│┘êÏ▒Ï® Ïº┘ä┘àÏ«Ï¬ÏºÏ▒Ï®</span>
+                                        <span className="text-white font-bold text-xl">{selectedSurah}</span>
+                                     </div>
+
+                                    {/* Range Toggles */}
+                                    <div className="bg-slate-900 p-1 rounded-xl flex">
+                                        <button onClick={() => setVerseMode('FULL')} className={`flex-1 py-3 rounded-lg text-sm font-bold transition-all ${verseMode === 'FULL' ? 'bg-slate-700 text-white shadow' : 'text-slate-500'}`}>
+                                            ┘âÏº┘à┘ä Ïº┘äÏ│┘êÏ▒Ï®
+                                        </button>
+                                        <button onClick={() => setVerseMode('RANGE')} className={`flex-1 py-3 rounded-lg text-sm font-bold transition-all ${verseMode === 'RANGE' ? 'bg-slate-700 text-white shadow' : 'text-slate-500'}`}>
+                                            Ï¬Ï¡Ï»┘èÏ» Ïó┘èÏºÏ¬
+                                        </button>
+                                    </div>
+
+                                    {verseMode === 'RANGE' && (
+                                        <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} className="flex items-center gap-4 bg-slate-900/50 p-6 rounded-xl border border-slate-700">
+                                            <div className="flex-1">
+                                                <label className="text-xs text-slate-400 block mb-2 text-center">┘à┘å Ïº┘äÏó┘èÏ®</label>
+                                                <input type="number" min="1" value={rangeStart} onChange={e => setRangeStart(e.target.value)} className="w-full bg-slate-800 border border-slate-600 rounded-lg p-3 text-center text-white text-xl font-bold outline-none focus:border-arcade-cyan" />
+                                            </div>
+                                            <div className="text-slate-500 font-bold text-xl pt-6">:</div>
+                                            <div className="flex-1">
+                                                <label className="text-xs text-slate-400 block mb-2 text-center">ÏÑ┘ä┘ë Ïº┘äÏó┘èÏ®</label>
+                                                <input type="number" min="1" value={rangeEnd} onChange={e => setRangeEnd(e.target.value)} className="w-full bg-slate-800 border border-slate-600 rounded-lg p-3 text-center text-white text-xl font-bold outline-none focus:border-arcade-cyan" />
+                                            </div>
+                                        </motion.div>
+                                    )}
+                                </motion.div>
+                            ) : (
+                                <div className="h-full flex flex-col items-center justify-center text-slate-600 opacity-50">
+                                    <Search size={48} className="mb-2" />
+                                    <p>ÏºÏ«Ï¬Ï▒ Ï│┘êÏ▒Ï® ┘ä┘äÏ¿Ï»Ïí</p>
+                                </div>
+                            )}
+                        </div>
+
+                        <div className="mt-6">
+                            <ArcadeButton 
+                                disabled={!selectedSurah}
+                                size="lg" 
+                                onClick={handleSurahConfirmed}
+                                variant={intent === 'LEARN' ? 'primary' : 'success'}
+                                className={`w-full flex items-center justify-center gap-3 font-bold transition-all ${!selectedSurah ? 'opacity-50 grayscale cursor-not-allowed' : 'animate-pulse-fast'}`}
+                            >
+                                {intent === 'LEARN' ? 'ÏºÏ«Ï¬┘èÏºÏ▒ ÏÀÏ▒┘è┘éÏ® Ïº┘äÏ¡┘üÏ©' : 'Ï¿Ï»Ïí Ïº┘äÏ¬Ï│┘à┘èÏ╣'} <ChevronRight className="rtl:rotate-180" />
+                            </ArcadeButton>
+                        </div>
+                     </motion.div>
+                )}
+
+                {/* --- STEP 3: SELECT MODE (LEARN INTENT ONLY) --- */}
+                {step === 'SELECT_MODE' && (
+                    <motion.div
+                        key="select-mode"
+                        initial={{ opacity: 0, x: 100 }}
+                        animate={{ opacity: 1, x: 0 }}
+                        exit={{ opacity: 0, x: -100 }}
+                        className="flex-1 flex flex-col w-full max-w-5xl mx-auto py-4"
+                    >
+                        <div className="flex items-center gap-4 mb-4 px-2 md:px-4">
+                            <button onClick={goBack} className="bg-slate-700 p-2 rounded-lg hover:bg-slate-600 transition-colors">
+                                <ArrowLeft size={20} />
+                            </button>
+                            <div>
+                                <h2 className="text-xl md:text-2xl font-bold text-white font-arcade">
+                                    {isTrainingMode ? 'Ï¬Ï»Ï▒┘èÏ¿ ┘à┘êÏ¼┘æ┘ç' : 'ÏºÏ«Ï¬Ï▒ Ïº┘äÏÀÏ▒┘è┘éÏ®'}
+                                </h2>
+                                <p className="text-xs text-slate-400">
+                                    Ï│┘êÏ▒Ï® {selectedSurah} 
+                                    {isTrainingMode && <span className="text-arcade-cyan font-bold mx-1">({rangeStart}-{rangeEnd || 'end'})</span>}
+                                </p>
+                            </div>
+                        </div>
+
+                        {/* Training Mode Banner */}
+                        {isTrainingMode && (
+                            <div className="mx-2 md:mx-4 mb-6 bg-green-900/30 border border-green-500/50 p-4 rounded-xl flex items-center gap-3">
+                                <Target className="text-green-400 w-6 h-6 animate-pulse shrink-0" />
+                                <div>
+                                    <h3 className="font-arcade text-green-400 text-sm">Ï¬┘à ÏÂÏ¿ÏÀ Ïº┘äÏú┘äÏ╣ÏºÏ¿ Ï¿┘åÏºÏí┘ï Ï╣┘ä┘ë Ïº┘äÏ¬Ï┤Ï«┘èÏÁ</h3>
+                                    <p className="text-xs text-slate-400">Ï¼┘à┘èÏ╣ Ïº┘äÏú┘äÏ╣ÏºÏ¿ Ï│Ï¬Ï▒┘âÏ▓ Ïº┘äÏó┘å Ï╣┘ä┘ë Ïº┘äÏó┘èÏºÏ¬ Ïº┘äÏ¬┘è Ï¬Ï¡Ï¬ÏºÏ¼ ÏÑ┘ä┘ë Ï¬Ï¡Ï│┘è┘å.</p>
+                                </div>
+                            </div>
+                        )}
+
+                        <div className="flex-1 overflow-y-auto px-2 md:px-4 pb-8 space-y-6 custom-scrollbar">
+                            
+                            <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
+                                {/* CARD 1: CORE LEARNING */}
+                                <button 
+                                    onClick={() => handleGameStart('LEARN')}
+                                    className="bg-slate-800 border-2 border-green-500/50 p-6 rounded-2xl hover:bg-slate-700 transition-all text-right group shadow-lg flex flex-col justify-between min-h-[12rem] md:min-h-[14rem]"
+                                >
+                                    <div className="flex justify-between items-start">
+                                        <div className="bg-green-500/20 p-3 rounded-full">
+                                            <Mic className="text-green-400 w-6 h-6" />
+                                        </div>
+                                        <span className="text-green-400 font-arcade text-xs">Ï¡┘üÏ© ┘êÏ¬┘ä┘é┘è┘å</span>
+                                    </div>
+                                    <div>
+                                        <h4 className="text-xl font-bold text-white group-hover:text-green-400 transition-colors">Ïº┘ä┘àÏ¡┘üÏ© Ïº┘äÏ░┘â┘è</h4>
+                                        <p className="text-slate-400 text-sm mt-1">Ï¬┘ä┘é┘è┘å Ïº┘äÏó┘èÏºÏ¬ ┘êÏÑÏ«┘üÏºÏí Ï¬Ï»Ï▒┘èÏ¼┘è ┘ä┘ä┘â┘ä┘àÏºÏ¬.</p>
+                                    </div>
+                                </button>
+
+                                {/* CARD 2: INTERACTIVE REVISION (CLASSIC GAME) */}
+                                <button 
+                                    onClick={() => handleGameStart('CLASSIC')}
+                                    className="bg-slate-800 border-2 border-arcade-cyan/50 p-6 rounded-2xl hover:bg-slate-700 transition-all text-right group shadow-lg flex flex-col justify-between min-h-[12rem] md:min-h-[14rem]"
+                                >
+                                    <div className="flex justify-between items-start">
+                                        <div className="bg-arcade-cyan/20 p-3 rounded-full">
+                                            <Zap className="text-arcade-cyan w-6 h-6" />
+                                        </div>
+                                        <span className="text-arcade-cyan font-arcade text-xs">┘àÏ▒ÏºÏ¼Ï╣Ï® Ï│Ï▒┘èÏ╣Ï®</span>
+                                    </div>
+                                    <div>
+                                        <h4 className="text-xl font-bold text-white group-hover:text-arcade-cyan transition-colors">Ï¼Ï│Ï▒ Ïº┘äÏó┘èÏºÏ¬</h4>
+                                        <p className="text-slate-400 text-sm mt-1">Ïú┘â┘à┘ä Ïº┘äÏó┘èÏºÏ¬ Ï¿ÏºÏ«Ï¬┘èÏºÏ▒ Ïº┘ä┘â┘ä┘àÏ® Ïº┘äÏ¬Ïº┘ä┘èÏ® (Ï«┘èÏºÏ▒ÏºÏ¬).</p>
+                                    </div>
+                                </button>
+                            </div>
+
+                            {/* SECTION: ASSESSMENT */}
+                            <section>
+                                <button 
+                                    onClick={() => handleGameStart('QUIZ')}
+                                    className="w-full bg-slate-800 border-l-4 border-yellow-500 p-6 rounded-r-xl hover:bg-slate-700 transition-all text-right group shadow-lg flex items-center justify-between"
+                                >
+                                    <div>
+                                        <div className="flex items-center gap-2 mb-1">
+                                            <BookOpen className="text-yellow-400 w-5 h-5" />
+                                            <h4 className="text-lg font-bold text-white group-hover:text-yellow-400 transition-colors">ÏºÏ«Ï¬Ï¿ÏºÏ▒ Ïº┘ä┘àÏ╣Ïº┘å┘è ┘êÏº┘äÏ¬┘üÏ│┘èÏ▒</h4>
+                                        </div>
+                                        <p className="text-slate-400 text-sm">ÏúÏ│Ïª┘äÏ® ┘àÏ¬Ï╣Ï»Ï»Ï® ┘ü┘è Ïº┘ä┘à┘üÏ▒Ï»ÏºÏ¬ ┘êÏº┘äÏ¬┘üÏ│┘èÏ▒.</p>
+                                    </div>
+                                    <ChevronRight className="text-slate-600 group-hover:text-white rtl:rotate-180" />
+                                </button>
+                            </section>
+
+                            {/* SECTION: ARCADE GAMES */}
+                            <section>
+                                <div className="flex items-center gap-2 mb-4 text-slate-400 border-b border-slate-700 pb-2">
+                                    <Gamepad2 size={16} />
+                                    <h3 className="font-arcade text-sm">Ïú┘äÏ╣ÏºÏ¿ ÏÑÏÂÏº┘ü┘èÏ® (ÏóÏ▒┘â┘èÏ»)</h3>
+                                </div>
+                                <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
+                                    <GameCard 
+                                        title="Ï¬Ï▒Ï¬┘èÏ¿" 
+                                        desc="Ï▒Ï¬Ï¿ Ïº┘äÏó┘èÏºÏ¬"
+                                        icon={<Puzzle />}
+                                        color="purple"
+                                        onClick={() => handleGameStart('ASSEMBLY')}
+                                    />
+                                    <GameCard 
+                                        title="Ï¬Ï▓┘äÏ¼" 
+                                        desc="Ïº┘äÏ¬┘éÏÀ Ïº┘ä┘â┘ä┘àÏºÏ¬"
+                                        icon={<Waves />}
+                                        color="blue"
+                                        onClick={() => handleGameStart('SURF')}
+                                    />
+                                    <GameCard 
+                                        title="Ï¿Ï▒Ï¼" 
+                                        desc="ÏºÏ¿┘å┘É Ïº┘ä┘â┘ä┘àÏºÏ¬"
+                                        icon={<Layers />}
+                                        color="emerald"
+                                        onClick={() => handleGameStart('STACK')}
+                                    />
+                                    <GameCard 
+                                        title="ÏÁ┘à┘êÏ»" 
+                                        desc="Ï»Ïº┘üÏ╣ Ï╣┘å Ïº┘äÏ¡┘üÏ©"
+                                        icon={<Ghost />} 
+                                        color="red"
+                                        onClick={() => handleGameStart('SURVIVOR')}
+                                    />
+                                </div>
+                            </section>
+
+                        </div>
+                    </motion.div>
+                )}
+
+            </AnimatePresence>
+
+        </div>
+    </div>
+  );
+};
+
+const GameCard: React.FC<{title: string, desc: string, icon: React.ReactNode, color: string, onClick: () => void}> = ({ title, desc, icon, color, onClick }) => {
+    const colorClasses: any = {
+        cyan: "border-arcade-cyan hover:shadow-cyan-500/20 text-arcade-cyan",
+        purple: "border-arcade-purple hover:shadow-purple-500/20 text-arcade-purple",
+        blue: "border-blue-500 hover:shadow-blue-500/20 text-blue-400",
+        emerald: "border-emerald-500 hover:shadow-emerald-500/20 text-emerald-400",
+        red: "border-red-500 hover:shadow-red-500/20 text-red-400",
+    };
+
+    return (
+        <button 
+            onClick={onClick}
+            className={`bg-slate-800 border-2 ${colorClasses[color].split(' ')[0]} p-3 rounded-2xl text-center hover:-translate-y-1 transition-all hover:shadow-lg group flex flex-col items-center gap-2 h-full justify-between`}
+        >
+            <div className={`p-2 rounded-lg bg-slate-900 ${colorClasses[color].split(' ').pop()}`}>
+                {icon}
+            </div>
+            <div>
+                <h4 className="font-bold text-white text-sm group-hover:text-white transition-colors">{title}</h4>
+                <p className="text-slate-500 text-[10px] hidden md:block">{desc}</p>
+            </div>
+        </button>
+    );
+};
